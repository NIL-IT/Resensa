{"version":3,"file":"NewsPage-BkTwUcjq.js","sources":["../../../src/components/pages/NewsPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Footer from \"../shared/Footer\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport useLatinFormat from \"../../utils/hooks/useLatinFormat\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Cookies from \"js-cookie\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport SeoBlock from \"../shared/SeoBlock\";\r\n\r\nexport default function NewsPage({ news }) {\r\n  const [findNews, setFindNews] = useState();\r\n  const { pathname } = useLocation();\r\n  const newsName = pathname.split(\"/\")[2];\r\n\r\n  useEffect(() => {\r\n    if (!newsName || !news) return;\r\n    const findNews = news.filter(({ title }) =>\r\n      useLatinFormat(title.toLowerCase()).includes(newsName.toLowerCase())\r\n    );\r\n\r\n    setFindNews(findNews[0]);\r\n  }, []);\r\n\r\n  const handleNavigateNews = () => {\r\n    Cookies.set(\"news_nav\", \"1\", { expires: 1 });\r\n  };\r\n\r\n  const scrollTop = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      left: 0,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollTop();\r\n  }, [pathname]);\r\n\r\n  document.body.style.overflowY = \"auto\";\r\n\r\n  // Generate the canonical URL properly - ensure it doesn't create a chain\r\n  const getCanonicalUrl = () => {\r\n    if (!findNews) return null;\r\n\r\n    // Use the direct URL format consistently\r\n    return `https://new.recensa.ru/news/${newsName}`;\r\n  };\r\n\r\n  return findNews ? (\r\n    <>\r\n      <SeoBlock\r\n        url={getCanonicalUrl()}\r\n        title={findNews.page_title}\r\n        description={findNews.hidden_seo_text}\r\n      />\r\n      <Helmet>\r\n        <title>{findNews.page_title}</title>\r\n        <meta name=\"description\" content={findNews.page_description} />\r\n        <meta property=\"og:title\" content={findNews.page_title} />\r\n        <meta property=\"og:url\" content={getCanonicalUrl()} />\r\n        <meta name=\"keywords\" content={findNews.page_keywords} />\r\n        {/* Fix canonical URL to prevent chains */}\r\n        <link rel=\"canonical\" href={getCanonicalUrl()} />\r\n      </Helmet>\r\n      <article\r\n        itemScope\r\n        itemType=\"http://schema.org/Article\"\r\n        className={`\r\n              container py-[35px] md:py-[40px] lg:py-[50px] xl:py-[60px] 2xl:py-[70px] 3xl:py-[80px] \r\n           `}\r\n      >\r\n        <nav className=\"mb-4 xs:mb-5 sm:mb-6\">\r\n          <ul\r\n            itemScope\r\n            itemType=\"http://schema.org/BreadcrumbList\"\r\n            className=\"flex items-center gap-1 xs:gap-2 text-xs xs:text-sm text-gray-400\"\r\n          >\r\n            <li\r\n              itemProp=\"itemListElement\"\r\n              itemScope\r\n              itemType=\"http://schema.org/ListItem\"\r\n              className=\"hover:text-gray-600 transition-colors\"\r\n            >\r\n              <a title=\"Основной раздел\" href=\"/\">\r\n                <span itemProp=\"name\">Главная</span>\r\n                <meta itemProp=\"position\" content=\"0\" />\r\n                <meta itemProp=\"item\" content=\"https://example.com/\" />\r\n              </a>\r\n            </li>\r\n            <span>{\">\"}</span>\r\n            <li\r\n              itemProp=\"itemListElement\"\r\n              itemScope\r\n              itemType=\"http://schema.org/ListItem\"\r\n              className=\"cursor-pointer\"\r\n            >\r\n              <a\r\n                title=\"Подраздел уровня 1\"\r\n                onClick={() => handleNavigateNews()}\r\n                href=\"/\"\r\n              >\r\n                <span itemProp=\"name\">Новости</span>\r\n                <meta itemProp=\"position\" content=\"1\" />\r\n                <meta itemProp=\"item\" content=\"https://example.com/contacts\" />\r\n              </a>\r\n            </li>\r\n            <span>{\">\"}</span>\r\n            <li\r\n              itemProp=\"itemListElement\"\r\n              itemScope\r\n              itemType=\"http://schema.org/ListItem\"\r\n            >\r\n              <a className=\"pointer-events: none\" title=\"Подраздел уровня 2\">\r\n                <span itemProp=\"name\">{findNews.title}</span>\r\n                <meta itemProp=\"position\" content=\"1\" />\r\n                <meta itemProp=\"item\" content=\"https://example.com/contacts\" />\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n        <meta itemProp=\"headline\" content=\"title\" />\r\n        <h2\r\n          itemProp=\"name\"\r\n          className=\"text-lg xs:text-xl sm:text-2xl leading-[24px] xs:leading-[26px] sm:leading-[28px] md:leading-[30.6px] text-gray-400 mb-4 xs:mb-5 sm:mb-6 md:mb-7 lg:mb-8\"\r\n        >\r\n          {findNews.title}\r\n        </h2>\r\n        <div className=\"flex justify-center w-full\">\r\n          <div className=\"w-full flex justify-center   md:w-[800px] lg:w-[900px] xl:w-[1000px] 2xl:w-[1178px]\">\r\n            <div className=\"w-full\">\r\n              <div className=\"w-full\">\r\n                <meta\r\n                  itemProp=\"url\"\r\n                  content={`https://new.recensa.ru/${useLatinFormat(\r\n                    findNews.title\r\n                  )}`}\r\n                />\r\n                <meta\r\n                  itemProp=\"description\"\r\n                  content={\r\n                    <div dangerouslySetInnerHTML={{ __html: findNews.text }} />\r\n                  }\r\n                />\r\n                <div\r\n                  itemProp=\"image\"\r\n                  itemScope\r\n                  itemType=\"http://schema.org/ImageObject\"\r\n                  className=\"flex justify-center w-full\"\r\n                >\r\n                  <img\r\n                    style={{\r\n                      backgroundPosition: \"center center\",\r\n                      backgroundSize: \"cover\",\r\n                      objectFit: \"cover\",\r\n                    }}\r\n                    itemProp=\"url contentUrl\"\r\n                    content={findNews.title}\r\n                    className=\"w-[847px] h-[400px]\"\r\n                    src={findNews.image}\r\n                    alt={findNews.title}\r\n                  />\r\n                </div>\r\n                <meta\r\n                  itemProp=\"datePublished\"\r\n                  content={findNews.date.split(\"T\")[0]}\r\n                />\r\n                <meta\r\n                  itemProp=\"dateModified\"\r\n                  content={findNews.date.split(\"T\")[0]}\r\n                />\r\n                <meta itemProp=\"inLanguage\" content=\"ru-RU\" />\r\n\r\n                <p className=\"text-gray-900 text-sm xs:text-base block mt-4\">\r\n                  {findNews.date.split(\"T\")[0]}\r\n                </p>\r\n                <div\r\n                  itemProp=\"articleBody\"\r\n                  className=\"space-y-4 xs:space-y-5 sm:space-y-6 md:space-y-7 lg:space-y-8 mt-4 xs:mt-5 sm:mt-6 md:mt-7 lg:mt-8\"\r\n                >\r\n                  <div\r\n                    className=\"text-gray-900 text-sm xs:text-base space-y-4\"\r\n                    dangerouslySetInnerHTML={{ __html: findNews.text }}\r\n                  />\r\n                </div>\r\n                <div\r\n                  itemProp=\"author\"\r\n                  itemScope\r\n                  itemType=\"http://schema.org/Person\"\r\n                />\r\n                <meta itemProp=\"name\" content={\"Recensa\"} />\r\n                {/* Контактная информация о сайте/организации */}\r\n                <div\r\n                  className=\"hidden\"\r\n                  itemProp=\"publisher\"\r\n                  itemScope\r\n                  itemType=\"https://schema.org/Organization\"\r\n                >\r\n                  <div\r\n                    itemProp=\"logo\"\r\n                    itemScope\r\n                    itemType=\"https://schema.org/ImageObject\"\r\n                  >\r\n                    <img itemProp=\"url\" src=\"/logo.svg\" alt=\"Recensa\" />\r\n                    <meta itemProp=\"width\" content=\"200\" />\r\n                    <meta itemProp=\"height\" content=\"200\" />\r\n                  </div>\r\n                  <meta itemProp=\"name\" content=\"Recensa\" />\r\n                  <meta itemProp=\"url\" content=\"https://new.recensa.ru/\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* рецензия материала */}\r\n            <div itemScope=\"\" itemType=\"http://schema.org/Organization\">\r\n              <meta itemProp=\"name\" content={findNews.title} />\r\n              <meta itemProp=\"description\" content=\"description\" />\r\n              <link itemProp=\"url\" href=\"https://new.recensa.ru/\" />\r\n              <div\r\n                itemProp=\"aggregateRating\"\r\n                itemScope\r\n                itemType=\"https://schema.org/AggregateRating\"\r\n              >\r\n                <meta itemProp=\"worstRating\" content=\"1\" />\r\n                <meta itemProp=\"bestRating\" content=\"5\" />\r\n                <meta itemProp=\"ratingValue\" content=\"4.6\" />\r\n                <meta itemProp=\"ratingCount\" content=\"8864\" />\r\n              </div>\r\n              <div\r\n                itemProp=\"review\"\r\n                itemType=\"http://schema.org/Review\"\r\n                itemScope=\"\"\r\n              >\r\n                <div\r\n                  itemProp=\"author\"\r\n                  itemType=\"http://schema.org/Person\"\r\n                  itemScope=\"\"\r\n                >\r\n                  <meta itemProp=\"name\" content=\"Recensa\" />\r\n                  <link\r\n                    itemProp=\"url\"\r\n                    href={`https://new.recensa.ru/${useLatinFormat(\r\n                      findNews.title\r\n                    )}`}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </article>\r\n      <Footer />\r\n    </>\r\n  ) : (\r\n    <>Новости нет</>\r\n  );\r\n}\r\n"],"names":["NewsPage","news","findNews","setFindNews","useState","pathname","useLocation","newsName","useEffect","title","useLatinFormat","handleNavigateNews","Cookies","scrollTop","getCanonicalUrl","jsxs","Fragment","jsx","SeoBlock","Helmet","Footer"],"mappings":"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"}