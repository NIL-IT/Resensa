var g=Object.defineProperty,j=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var k=(i,t,n)=>t in i?g(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n,y=(i,t)=>{for(var n in t||(t={}))S.call(t,n)&&k(i,n,t[n]);if(b)for(var n of b(t))E.call(t,n)&&k(i,n,t[n]);return i},w=(i,t)=>j(i,v(t));import{r as o,a as R,j as e,H as C,u as U,b as L,T as z,C as _,O as P}from"./three-vendor-Ci446NTQ.js";import"./react-vendor-DomL0yj5.js";function M({position:i,title:t,description:n,mapUrl:h,handleLocationClick:p,i:x,groupIndex:l}){const[r,c]=o.useState(0);console.log(l);const u=(s,a)=>{s.stopPropagation(),p(s,a),c(r===0?1:0)},m=s=>{s.stopPropagation(),p(s,null),r===1&&c(0)},d=()=>{r===1&&c(0)};return R.useEffect(()=>(document.addEventListener("click",d),()=>document.removeEventListener("click",d)),[r]),e.jsxs("mesh",{position:i,children:[e.jsx("sphereGeometry",{args:[.014,16,16]}),e.jsx("meshBasicMaterial",{color:"#4a90e2"}),e.jsx(C,{position:[.03,.001,0],className:"pointer-events-auto",distanceFactor:6,occlude:!0,children:e.jsxs("div",{className:"flex flex-col items-start pt-1 relative",children:[e.jsx("div",{className:`text-white text-opacity-90 text-[8px] xl:text-xs hover:text-[#4a90e2] transition-colors duration-300 cursor-pointer whitespace-nowrap  absolute top-1 left-0 z-30 ${t==="Офис Recensa Екатеринбург"?"top-[-32px] left-[-105px] xl:top-[-34px] xl:left-[-160px]":t==="Жилые комплексы"?"top-[-21px] left-[-103px]":t==="Пищевое производство"?"top-[-22px] ":t==="Офис Recensa Новосибирск"&&l===1?"top-[-20px] left-[0px] xl:top-[-20px] xl:left-[0px]":""}`,onClick:s=>u(s,x),children:t}),r===1&&e.jsxs("a",{target:"_blank",href:h,className:`bg-[#000] absolute  z-50  text-white rounded px-2 py-1 mt-1 w-40 shadow-lg 
                text-xs cursor-pointer hover:bg-[#4a90e2] transition-colors 
                duration-200 ${t==="Офис Recensa Екатеринбург"?"top-[-16px] left-[-160px]":t==="Жилые комплексы"?"top-[0px] left-[-103px]":t==="Пищевое производство"||t==="Офис Recensa Новосибирск"&&l===1?"top-[0px] ":"top-[20px] left-0"}`,onClick:m,children:[e.jsx("p",{dangerouslySetInnerHTML:{__html:n},className:"leading-tight"}),e.jsx("p",{className:"text-blue-300 text-[6px] mt-1",children:"Нажмите еще раз для открытия карты"})]})]})})]})}function N({index:i,locations:t}){const n=o.useRef(),h=U(z,"/texture_earth.jpg"),[p,x]=o.useState(null),[l,r]=o.useState(!1),[c,u]=o.useState(0);L(({clock:s})=>{n.current.rotation.y=s.getElapsedTime()*0});const m=(s,a)=>{var f;(f=s==null?void 0:s.stopPropagation)==null||f.call(s),p===a?l?(x(null),r(!1)):r(!0):(x(a),r(!0))},d=()=>{x(null),r(!1)};return o.useEffect(()=>(document.addEventListener("click",d),()=>document.removeEventListener("click",d)),[]),o.useEffect(()=>{const s=()=>{u(a=>a+1)};return u(a=>a+1),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),e.jsxs("group",{scale:1.2,rotation:[.8,-2.6,0],onClick:s=>s.stopPropagation(),children:[e.jsx("ambientLight",{intensity:.8}),e.jsx("directionalLight",{position:[200,200,200],intensity:.7,castShadow:!0}),e.jsx("directionalLight",{position:[-200,-200,-200],intensity:.4,castShadow:!0}),e.jsxs("mesh",{ref:n,children:[e.jsx("sphereGeometry",{args:[1.8,64,64]}),e.jsx("meshStandardMaterial",{map:h,metalness:.05,roughness:.9,color:"#cccccc"}),t[i].map((s,a)=>p===null||p===a?e.jsx(M,w(y({},s),{groupIndex:i,i:a,handleLocationClick:m,isSelected:p===a,showDescription:l}),a):null)]}),e.jsxs("mesh",{children:[e.jsx("sphereGeometry",{args:[1.85,64,64]}),e.jsx("meshBasicMaterial",{color:"#3a85ff",transparent:!0,opacity:.03})]})]},c)}const T=[[{position:[.6,1.5,-.9],title:"Уральский экономический колледж",description:"Административное здание",mapUrl:"https://yandex.ru/maps/?text=Уральский+экономический+колледж"},{position:[.05,1.52,-1.05],title:"МФЦ Республика Бурятия",description:"Верхняя Березовка, Иволгинск, Нижняя Иволга, Нижний Саянтуй",mapUrl:"https://yandex.ru/maps/?text=МФЦ+Республика+Бурятия"},{position:[.1,1.28,-1.4],title:"ТРЦ Пионер",description:"г. Улан-Удэ",mapUrl:"https://yandex.ru/maps/?text=ТРЦ+Пионер+Улан-Удэ"},{position:[1,1.4,-.7],title:"Административное здание Министерства обороны",description:"г. Москва",mapUrl:"https://yandex.ru/maps/?text=Министерство+обороны+Москва"},{position:[.43,1.48,-1.04],title:"Жилые комплексы",description:"ЖК Прайм, ЖК Современник, ЖК Сокол - г.Барнаул",mapUrl:"https://yandex.ru/maps/?text=ЖК+Прайм+ЖК+Современник+ЖК+Сокол+Барнаул"},{position:[.5,1.25,-1.3],title:"Офис Recensa Новосибирск",description:"г. Новосибирск,<br/> ул. Серебренниковская, дом 14, офис 512",mapUrl:"https://yandex.ru/maps/65/novosibirsk/house/serebrennikovskaya_ulitsa_14/bEsYfwVnSk0EQFtvfXxzcXpkZw==/inside/?ll=82.928862%2C55.020812&tab=inside&z=17.23"},{position:[.75,1.5,-.85],title:"Офис Recensa Екатеринбург",description:"г. Екатеринбург,<br/> ул. Свердлова, дом 11А, офис 512",mapUrl:"https://yandex.ru/maps/?text=Екатеринбург+улица+Свердлова+11А"}],[{position:[-.05,1.56,-1.02],title:"Мирнинский Горно-обогатительный комбинат Алроса",description:"г. Мирный",mapUrl:"https://yandex.ru/maps/?text=Мирнинский+Горно-обогатительный+комбинат+Алроса"},{position:[1,1.4,-.7],title:"НИЦ «Курчатовский институт»",description:"г. Москва",mapUrl:"https://yandex.ru/maps/?text=НИЦ+Курчатовский+институт+Москва"},{position:[-.2,1.53,-1.04],title:"Пищевое производство",description:"г. Якутск",mapUrl:"https://yandex.ru/maps/?text=пищевое+производство+Якутск"},{position:[.1,1.28,-1.4],title:"Производство Абсолют Кэш Энд Кэрри",description:"г. Улан-Удэ",mapUrl:"https://yandex.ru/maps/?text=Абсолют+Кэш+Энд+Кэрри+Улан-Удэ"},{position:[.44,1.44,-1.07],title:"Офис Recensa Новосибирск",description:"г. Новосибирск,<br/> ул. Серебренниковская, дом 14, офис 512",mapUrl:"https://yandex.ru/maps/65/novosibirsk/house/serebrennikovskaya_ulitsa_14/bEsYfwVnSk0EQFtvfXxzcXpkZw==/inside/?ll=82.928862%2C55.020812&tab=inside&z=17.23"},{position:[.75,1.5,-.85],title:"Офис Recensa Екатеринбург",description:"г. Екатеринбург,<br/> ул. Свердлова, дом 11А, офис 512",mapUrl:"https://yandex.ru/maps/?text=Екатеринбург+улица+Свердлова+11А"}],[{position:[.5,1.25,-1.26],title:"Центральная городская больница",description:"Таджикистан, Хатлонская область, Нурек",mapUrl:"https://yandex.ru/maps/?text=Центральная+городская+больница+Нурек+Таджикистан"},{position:[.44,1.44,-1.07],title:"Офис Recensa Новосибирск",description:"г. Новосибирск,<br/> ул. Серебренниковская, дом 14, офис 512",mapUrl:"https://yandex.ru/maps/65/novosibirsk/house/serebrennikovskaya_ulitsa_14/bEsYfwVnSk0EQFtvfXxzcXpkZw==/inside/?ll=82.928862%2C55.020812&tab=inside&z=17.23"},{position:[.75,1.5,-.85],title:"Офис Recensa Екатеринбург",description:"г. Екатеринбург,<br/> ул. Свердлова, дом 11А, офис 512",mapUrl:"https://yandex.ru/maps/?text=Екатеринбург+улица+Свердлова+11А"}]];function O({index:i}){const[t,n]=o.useState(!1);return o.useEffect(()=>{setTimeout(()=>{n(!0)},200)},[]),e.jsx("article",{className:`xs:w-[360px] xs:h-[360px]\r
      sm:w-[400px] sm:h-[400px]\r
      md:w-[800px] md:h-[500px]\r
      lg:w-[1000px] lg:h-[600px]\r
      xl:w-[500px] xl:h-[500px]\r
      2xl:w-[1000px] 2xl:h-[660px] select-none`,children:t&&e.jsxs(_,{camera:{position:[0,0,6],fov:45},style:{background:"transparent",width:"100%",height:"100%"},children:[e.jsx(N,{index:i,locations:T}),e.jsx(P,{enableZoom:!1,enablePan:!0,enableRotate:!0,zoomSpeed:.6,panSpeed:.5,rotateSpeed:.4,minPolarAngle:Math.PI/2,maxPolarAngle:Math.PI/2})]})})}export{O as default,T as locations};
