{"version":3,"file":"EquipmentBanner-h_37kXNn.js","sources":["../../../src/components/shared/EquipmentBanner.jsx"],"sourcesContent":["import React, { useEffect, useLayoutEffect, useRef, useState } from \"react\";\r\nimport Button from \"../ui/Button\";\r\nimport { changeShowPopup } from \"../../utils/slice/userSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\nexport default function EquipmentBanner({\r\n  subtitle,\r\n  title,\r\n  text,\r\n  bannerImg,\r\n  isButton = false,\r\n  textSize,\r\n  width = \"\",\r\n  about = false,\r\n  currentProduct,\r\n  list,\r\n  placeholderSrc,\r\n  cardImg,\r\n}) {\r\n  const dispatch = useDispatch();\r\n  const { pathname } = useLocation();\r\n  const { equipmentById, solutionsById } = useSelector(({ user }) => user);\r\n  const [loading, isLoading] = useState(!currentProduct ? false : true);\r\n  const handleChangeShowPopup = (boolean) => dispatch(changeShowPopup(boolean));\r\n  const [product, setProduct] = useState(null);\r\n  const [paddingClass, setPaddingClass] = useState(\"\");\r\n  const h1Ref = useRef(null);\r\n  const [isProduct, setIsProduct] = useState(pathname.split(\"/\").length === 3);\r\n  useEffect(() => {\r\n    if (!list) return;\r\n    const filterData = list.filter(\r\n      (item) => item.id === equipmentById?.id || solutionsById?.id\r\n    );\r\n    setProduct(filterData[0]);\r\n    isLoading(false);\r\n  }, [equipmentById, solutionsById]);\r\n  let height;\r\n  useLayoutEffect(() => {\r\n    if (h1Ref.current) {\r\n      height = h1Ref.current.offsetHeight;\r\n      if (height <= 55) {\r\n        setPaddingClass(`pb-[50px] xs:pb-[40px] sm:pb-[20px] \r\n           md:pb-[80px] lg:pb-[130px]  \r\n          xl:pb-[190px] 2xl:pb-[240px] 3xl:pb-[286px]`);\r\n      } else {\r\n        setPaddingClass(`pb-[15px] xs:pb-[0px] sm:pb-[20px] \r\n           md:pb-[65px] lg:pb-[95px]  \r\n          xl:pb-[110px] 2xl:pb-[180px] 3xl:pb-[230px]`);\r\n      }\r\n    }\r\n  }, [product]);\r\n  const [imageSrc, setImageSrc] = useState(\r\n    product ? \"/img/product_placeholder.png\" : placeholderSrc\r\n  );\r\n\r\n  useEffect(() => {\r\n    const img = new Image();\r\n    if (product) {\r\n      img.src = product.image_banner;\r\n      img.onload = () => {\r\n        setImageSrc(product.image_banner);\r\n      };\r\n    } else {\r\n      img.src = bannerImg;\r\n      img.onload = () => {\r\n        setImageSrc(bannerImg);\r\n      };\r\n    }\r\n  }, [bannerImg]);\r\n  const isEquipment = pathname.split(\"/\")[1] === \"equipment\";\r\n  const generatePathName = () => {\r\n    const path = pathname.split(\"/\").pop();\r\n    if (path === \"equipment\") return \"Главная—Оборудование\";\r\n    if (path === \"solutions\") return \"Главная—Решения\";\r\n    if (path === \"about\") return \"Главная—О компании\";\r\n    return isEquipment\r\n      ? `Главная—Оборудование—${subtitle}`\r\n      : `Главная—Решения—${subtitle}`;\r\n  };\r\n\r\n  return loading && !height ? (\r\n    <div\r\n      className=\" bg-white w-full h-[300px] sm:h-[400px] md:h-[500px] lg:h-[600px] \r\n              xl:h-[700px] 2xl:h-[800px] 3xl:h-[900px] flex-center justify-center mt-20\"\r\n    >\r\n      <div className=\"loader\" />\r\n    </div>\r\n  ) : (\r\n    <section\r\n      className={`relative ${\r\n        !about && !isProduct\r\n          ? `pb-[50px] xs:pb-[30px] sm:pb-[auto] \r\n      md:pb-[105px] lg:pb-[160px]  \r\n     xl:pb-[205px] 2xl:pb-[240px] 3xl:pb-[286px]`\r\n          : isProduct\r\n          ? paddingClass\r\n          : \"\"\r\n      }`}\r\n    >\r\n      <nav className=\"container relative\">\r\n        <ul\r\n          itemScope\r\n          itemType=\"http://schema.org/BreadcrumbList\"\r\n          className=\"absolute flex gap-2 top-[40px] xl:top-[60px]  text-gray-50 px-5 xs:px-0\"\r\n        >\r\n          {generatePathName()\r\n            .split(\"—\")\r\n            .map((el, i) => (\r\n              <li\r\n                itemProp=\"itemListElement\"\r\n                itemScope\r\n                itemType=\"http://schema.org/ListItem\"\r\n                key={i}\r\n                className=\"flex gap-2   text-sm \"\r\n              >\r\n                {i === generatePathName().split(\"—\").length - 1 ? (\r\n                  <>\r\n                    <span itemProp=\"name\">{el}</span>\r\n                    <meta itemProp=\"position\" content={i} />\r\n                  </>\r\n                ) : (\r\n                  <a\r\n                    title={\r\n                      i == 0\r\n                        ? \"Основной раздел\"\r\n                        : i == 1\r\n                        ? \"Подраздел уровня 1\"\r\n                        : \"Подраздел уровня 2\"\r\n                    }\r\n                    itemProp=\"item\"\r\n                    className=\"pointer\"\r\n                    href={\r\n                      el === \"Главная\"\r\n                        ? \"/\"\r\n                        : el === \"Решения\"\r\n                        ? \"/solutions\"\r\n                        : el === \"Оборудование\"\r\n                        ? \"/equipment\"\r\n                        : el === \"О компании\"\r\n                        ? \"/about\"\r\n                        : \"\"\r\n                    }\r\n                  >\r\n                    <span itemProp=\"name\"> {el}</span>\r\n                    <meta itemProp=\"position\" content={i} />\r\n                  </a>\r\n                )}\r\n                {i + 1 < generatePathName().split(\"—\").length && (\r\n                  <span>{\">\"}</span>\r\n                )}\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      </nav>\r\n      <div\r\n        {...(isProduct\r\n          ? { itemScope: true, itemType: \"http://schema.org/Product\" }\r\n          : {})}\r\n      >\r\n        <h4 className=\"hidden\" itemProp=\"name\">\r\n          {\" \"}\r\n          {subtitle || product.name}\r\n        </h4>\r\n        {isProduct && (\r\n          <img\r\n            className=\"hidden\"\r\n            src={cardImg ? cardImg : \"\"}\r\n            alt={product ? product.image_card_alt : \"Карточка товара\"}\r\n            itemProp=\"image\"\r\n            title={product ? product.image_card_alt : \"Карточка товара\"}\r\n          />\r\n        )}\r\n\r\n        <img\r\n          className={`absolute  brightness-50 object-cover object-center top-[30px] \r\n          left-0 w-full    \r\n          z-[-2] ${imageSrc === placeholderSrc ? \"loading\" : \"loaded\"} ${\r\n            isProduct\r\n              ? `object-contain h-[400px] md:h-[500px] lg:h-[600px] \r\n              xl:h-[700px] 2xl:h-[800px] 3xl:h-[900px]`\r\n              : `\r\n              min-w-[100%] max-w-[1920px] \r\n              h-[400px] sm:h-[500px] md:h-[500px] lg:h-[600px] \r\n              xl:h-[700px] 2xl:h-[800px] 3xl:h-[900px]\r\n              max-h-[900px]`\r\n          }`}\r\n          src={imageSrc}\r\n          alt={\r\n            product\r\n              ? product?.image_banner_alt\r\n              : isEquipment\r\n              ? \"Баннер оборудования\"\r\n              : \"Баннер решений\"\r\n          }\r\n          title={\r\n            product\r\n              ? product?.image_banner_alt\r\n              : isEquipment\r\n              ? \"Баннер оборудования\"\r\n              : \"Баннер решений\"\r\n          }\r\n        />\r\n\r\n        <div\r\n          {...(isProduct\r\n            ? {\r\n                itemProp: \"offers\",\r\n                itemScope: true,\r\n                itemType: \"http://schema.org/Offer\",\r\n              }\r\n            : {})}\r\n        >\r\n          {isProduct && (\r\n            <div className=\"invisible w-0 h-0\">\r\n              <meta itemProp=\"price\" content=\"5000\" />\r\n              <meta itemProp=\"priceCurrency\" content=\"RUB\" />\r\n              <meta\r\n                itemProp=\"availability\"\r\n                content=\"https://schema.org/InStock\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          <div\r\n            className={`container pl-[20px] xs:pl-[0] ${\r\n              isProduct && \"min-h-[400px]\"\r\n            } ${\r\n              about\r\n                ? `pt-[80px] xs:pt-[100px] sm:pt-[120px] md:pt-[150px] lg:pt-[200px] xl:pt-[250px] 2xl:pt-[300px] 3xl:pt-[300px] 3xl:pb-[94px]`\r\n                : ` ${\r\n                    height <= 76\r\n                      ? `pt-[120px] \r\n          md:pt-[140px] lg:pt-[160px] xl:pt-[180px] 2xl:pt-[200px] 3xl:pt-[250px]`\r\n                      : `pt-[100px] xs:pt-[100px] \r\n          md:pt-[130px] lg:pt-[160px] xl:pt-[180px] 2xl:pt-[200px] 3xl:pt-[250px] `\r\n                  }`\r\n            }`}\r\n          >\r\n            <h2\r\n              itemProp=\"name\"\r\n              className=\"font-normal text-sm sm:text-lg leading-[22px] sm:leading-[24px] xl:text-[28px] 2xl:text-[32px] text-white md:leading-[41px] pt-[10px] md:pt-[0px]\"\r\n            >\r\n              {subtitle || product.name}\r\n            </h2>\r\n            <h3\r\n              ref={h1Ref}\r\n              className=\"font-normal  text-lg leading-[28px] sm:text-xl  md:text-[28px]  mt-3 md:mt-0 sm:leading-[32px]  md:leading-[36px]  \r\n          xl:text-[38px] 2xl:text-[48px] xl:leading-[51px] 2xl:leading-[61px] text-white uppercase\"\r\n            >\r\n              {title || product.sub_header}\r\n            </h3>\r\n            <div\r\n              dangerouslySetInnerHTML={{ __html: text }}\r\n              itemProp=\"description\"\r\n              className={` text-white mt-3 mb-8 xs:mb-[40px] xs:mt-[20px] sm:mb-[30px] sm:mt-[30px]  md:mb-[40px] md:mt-[40px] \r\n            lg:mb-[33px] lg:mt-[20px] xl:mt-[30px] 2xl:mt-[65px] \r\n            ${about ? \"text-sm xl:text-lg\" : \"\"} ${\r\n                width\r\n                  ? width\r\n                  : \"w-[300px] xs:w-[360px] md:w-[500px] lg:w-[656px]\"\r\n              }  ${\r\n                textSize\r\n                  ? textSize\r\n                  : \" text-xs sm:text-sm lg:text-lg xl:text-xl\"\r\n              }`}\r\n            />\r\n            {isButton && (\r\n              <Button\r\n                onClick={() => handleChangeShowPopup(true)}\r\n                icon={true}\r\n                iconWidth={\"w-[24px] sm:w-[30px] md:w-[38px]\"}\r\n                white={true}\r\n                text={\"Оформить заказ\"}\r\n                className=\"py-[5px] px-[10px]  sm:py-[10px]  lg:py-[14px]\r\n              xs:pl-[10px] xl:py-[19px] md:px-6 bg-white\r\n              text-gray-400 text-xs sm:text-base\"\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":["EquipmentBanner","subtitle","title","text","bannerImg","isButton","textSize","width","about","currentProduct","list","placeholderSrc","cardImg","dispatch","useDispatch","pathname","useLocation","equipmentById","solutionsById","useSelector","user","loading","isLoading","useState","handleChangeShowPopup","boolean","changeShowPopup","product","setProduct","paddingClass","setPaddingClass","h1Ref","useRef","isProduct","setIsProduct","useEffect","filterData","item","height","useLayoutEffect","imageSrc","setImageSrc","img","isEquipment","generatePathName","path","jsx","jsxs","el","i","Fragment","__spreadProps","__spreadValues","Button"],"mappings":"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"}