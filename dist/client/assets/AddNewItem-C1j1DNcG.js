const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jodit-react-v2INtMiw.js","assets/react-vendor-DomL0yj5.js"])))=>i.map(i=>d[i]);
var P=Object.defineProperty,T=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var k=(s,l,t)=>l in s?P(s,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[l]=t,f=(s,l)=>{for(var t in l||(l={}))z.call(l,t)&&k(s,t,l[t]);if(v)for(var t of v(l))J.call(l,t)&&k(s,t,l[t]);return s},w=(s,l)=>T(s,L(l));var S=(s,l,t)=>new Promise((i,_)=>{var j=n=>{try{e(t.next(n))}catch(o){_(o)}},c=n=>{try{e(t.throw(n))}catch(o){_(o)}},e=n=>n.done?i(n.value):Promise.resolve(n.value).then(j,c);e((t=t.apply(s,l)).next())});import{r as x,j as a,_ as K}from"./three-vendor-CsCe7JNW.js";import{I as m}from"./Input-D0XREh7A.js";import{u as U,h as V,m as F,n as $,o as G,p as H,q as M,r as Q,t as W}from"./index-Bhjxaqvm.js";import{I as E}from"./ImageUploader-Dgld1QJh.js";import{c as b}from"./data-B0z0wmyU.js";import"./react-vendor-DomL0yj5.js";const y=x.lazy(()=>K(()=>import("./jodit-react-v2INtMiw.js").then(s=>s.j),__vite__mapDeps([0,1]))),re=()=>{const s=U(),{pathname:l}=V(),t=l.split("/").at(-1),i=+t==4,_=+t==3,[j,c]=x.useState(""),[e,n]=x.useState(()=>i?{title:"",text:"",page_description:"",page_title:"",page_keywords:"",hidden_seo_text:""}:_?{name:"",description:"",sub_header:"",header:"",image_banner_alt:"",image_card_alt:"",page_description:"",page_title:"",page_keywords:"",extra_description:"",hidden_seo_text:""}:{name:"",description:"",min_param:"",max_param:"",sub_header:"",header:"",image_banner_alt:"",image_card_alt:"",page_description:"",page_title:"",page_keywords:"",extra_description:"",hidden_seo_text:""}),[o,N]=x.useState(null),[u,C]=x.useState(null),p=r=>{const{name:d,value:g}=r.target;n(O=>w(f({},O),{[d]:g}))},h=(r,d)=>{n(g=>w(f({},g),{[r]:d}))},I=r=>S(void 0,null,function*(){r.preventDefault(),c(""),console.log(e);try{if(i){if(!e.title||!e.text||!o){c("Пожалуйста, заполните все обязательные поля и загрузите изображение");return}const d={title:e.title,text:e.text,news_photo:o,page_description:e.page_description,page_title:e.page_title,page_keywords:e.page_keywords,hidden_seo_text:e.hidden_seo_text};yield s($(d)),yield s(G()),n({title:"",text:""})}else if(+t==2){if(console.log(e),!e.name||!e.description||!o||!u||!e.min_param||!e.max_param||!e.header||!e.sub_header||!e.extra_description){c("Пожалуйста, заполните все обязательные поля и загрузите изображение");return}const d={name:e.name,description:e.description,image_card:o,image_banner:u,min_param:parseInt(e.min_param),max_param:parseInt(e.max_param),sub_header:e.sub_header,header:e.header,image_banner_alt:e.image_banner_alt,image_card_alt:e.image_card_alt,page_description:e.page_description,page_title:e.page_title,page_keywords:e.page_keywords,extra_description:e.extra_description,hidden_seo_text:e.hidden_seo_text};yield s(H(d)).unwrap(),yield s(M()),n({name:"",description:"",min_param:"",max_param:"",sub_header:"",header:"",image_banner_alt:"",image_card_alt:"",page_description:"",page_title:"",page_keywords:"",extra_description:"",hidden_seo_text:""})}else if(+t==3){if(!e.name||!e.description||!o||!u||!e.header||!e.sub_header||!e.extra_description){c("Пожалуйста, заполните все обязательные поля и загрузите изображение");return}const d={name:e.name,description:e.description,image_card:o,image_banner:u,sub_header:e.sub_header,header:e.header,image_banner_alt:e.image_banner_alt,image_card_alt:e.image_card_alt,page_description:e.page_description,page_title:e.page_title,page_keywords:e.page_keywords,extra_description:e.extra_description,hidden_seo_text:e.hidden_seo_text};yield s(Q(d)),yield s(W()),n({name:"",description:"",sub_header:"",header:"",image_banner_alt:"",image_card_alt:"",page_description:"",page_title:"",page_keywords:"",extra_description:"",hidden_seo_text:""})}N(null),s(F(!1))}catch(d){console.error("Failed to create item:",d);const g=i?"новость":+t==2?"оборудование":"решение";alert(`Не удалось создать ${g}. Возможно вы уже добавляли фото с таким названием, переименуйте и попробуйте ещё раз`)}}),D=r=>{if(r==2)return"Добавление нового обрудования";if(r==3)return"Добавление нового решения";if(r==4)return"Добавление новой новости"},A=x.useRef(null),q=x.useRef(null),B=x.useRef(null),R=x.useRef(null);return a.jsx("section",{className:`fixed inset-0 flex items-center justify-center px-4 xs:px-5 \r
    sm:px-6 md:px-7 lg:px-8`,children:a.jsxs("div",{className:`bg-white py-[25px] xs:py-[28px] sm:py-[30px] md:py-[33px] \r
      lg:py-[35px] xl:py-[38px] px-4 xs:px-5 sm:px-6 md:px-7 lg:px-8 \r
      rounded-lg w-[90%] xs:w-[85%] sm:w-[80%] md:w-[70%] lg:w-[60%] xl:w-full \r
      max-w-[300px] xs:max-w-[350px] sm:max-w-[450px] md:max-w-[550px] \r
      lg:max-w-[600px] xl:max-w-[663px] relative overflow-y-scroll  overflow-x-hidden max-h-[85%]`,children:[a.jsx("button",{onClick:()=>s(F(!1)),className:"absolute top-2 xs:top-2.5 sm:top-3 md:top-3.5 lg:top-4 right-2 xs:right-2.5 sm:right-3 md:right-3.5 lg:right-4 text-gray-500 hover:text-gray-700",children:"✕"}),a.jsx("h2",{className:"text-center text-xl xs:text-2xl sm:text-2xl md:text-3xl lg:text-[32px] font-medium leading-[30px] xs:leading-[32px] sm:leading-[35px] md:leading-[38px] lg:leading-[40.8px] text-gray-400 mb-4 xs:mb-4.5 sm:mb-5 md:mb-5.5 lg:mb-6",children:D(t)}),a.jsxs("form",{onSubmit:I,className:"space-y-[12px] xs:space-y-[14px] sm:space-y-[15px] md:space-y-[16px] lg:space-y-[18px]",children:[!i&&a.jsxs("div",{children:[a.jsx("p",{className:"w-full text-sm text-gray-900",children:"Изображение для баннера"}),a.jsx(E,{banner:!0,onFileSelect:C}),a.jsxs("div",{className:"space-y-2 mt-2",children:[a.jsx("p",{className:"w-full text-xs xs:text-sm text-gray-900",children:"Alt-тег для баннера"}),a.jsx(m,{type:"text",name:"image_banner_alt",className:"block p-2 xs:p-2.5 w-full text-sm xs:text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:e.image_banner_alt,onChange:p,placeholder:"Описание изображения баннера"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"w-full text-sm text-gray-900",children:"Изображение для карточки"}),a.jsx(E,{onFileSelect:N}),!i&&a.jsxs("div",{className:"space-y-2 mt-2",children:[a.jsx("p",{className:"w-full text-xs xs:text-sm text-gray-900",children:"Alt-тег для карточки"}),a.jsx(m,{type:"text",name:"image_card_alt",className:"block p-2 xs:p-2.5 w-full text-sm xs:text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:e.image_card_alt,onChange:p,placeholder:"Описание изображения карточки"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"w-full text-xs xs:text-sm text-gray-900",children:"Название"}),a.jsx(m,{type:"text",name:i?"title":"name",className:"block p-2 xs:p-2.5 w-full text-sm xs:text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:i?e.title:e.name,onChange:p})]}),a.jsx("label",{htmlFor:"message",className:"block w-full text-xs xs:text-sm text-gray-900",children:i?"Текст новости":"Описание"}),i?a.jsx(x.Suspense,{fallback:a.jsx("div",{className:"border border-gray-300 h-[150px] w-full"}),children:a.jsx(y,{ref:q,value:e.text||"",config:b,onBlur:r=>h("text",r)})}):a.jsx(x.Suspense,{fallback:a.jsx("div",{className:"border border-gray-300 h-[150px] w-full"}),children:a.jsx(y,{ref:A,value:e.description||"",config:b,onBlur:r=>h("description",r)})}),!i&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2 pt-4",children:[a.jsx("label",{htmlFor:"message",className:"block text-sm text-gray-900",children:"Полное описание товара"}),a.jsx(x.Suspense,{fallback:a.jsx("div",{className:"border border-gray-300 h-[150px] w-full"}),children:a.jsx(y,{ref:B,value:e.extra_description||"",config:b,onBlur:r=>h("extra_description",r)})})]}),a.jsxs("div",{className:"space-y-2 pt-4",children:[a.jsx("p",{className:"w-full text-xs xs:text-sm text-gray-900",children:"Заголовок баннера"}),a.jsx(m,{type:"text",name:"sub_header",className:"block p-2 xs:p-2.5 w-full text-sm xs:text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:e.sub_header,onChange:p})]}),a.jsx("label",{htmlFor:"message",className:"block w-full text-xs xs:text-sm text-gray-900",children:"Текст баннера"}),a.jsx(x.Suspense,{fallback:a.jsx("div",{className:"border border-gray-300 h-[150px] w-full"}),children:a.jsx(y,{ref:R,value:e.header||"",config:b,onBlur:r=>h("header",r)})})]}),+t==2&&a.jsxs("div",{className:"flex w-full justify-between gap-4 pb-5 pt-4",children:[a.jsxs("div",{className:"w-[48%] space-y-2",children:[a.jsx("p",{className:"block w-full text-xs xs:text-sm text-gray-900",children:"От"}),a.jsx(m,{required:!0,type:"number",name:"min_param",value:e.min_param,onChange:p,className:` block p-2 xs:p-2.5 w-[300px]\r
                  text-sm xs:text-base text-gray-400 \r
                  font-normal bg-gray-50 rounded-lg \r
                  border \r
                  border-gray-300`})]}),a.jsxs("div",{className:"w-[48%] space-y-2",children:[a.jsx("p",{className:"block w-full text-xs xs:text-sm text-gray-900",children:"До"}),a.jsx(m,{required:!0,type:"number",name:"max_param",value:e.max_param,className:`block p-2 xs:p-2.5 w-full] \r
                  text-sm xs:text-base text-gray-400 \r
                  font-normal bg-gray-50 rounded-lg border\r
                   border-gray-300`,onChange:p})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-[12px] xs:space-y-[14px] sm:space-y-[15px] md:space-y-[16px] lg:space-y-[18px]",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"SEO информация"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"w-full text-xs xs:text-sm text-gray-900",children:"Заголовок страницы (Title)"}),a.jsx(m,{type:"text",name:"page_title",className:"block p-2 xs:p-2.5 w-full text-sm xs:text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:e.page_title,onChange:p,placeholder:"Заголовок для SEO"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"w-full text-xs xs:text-sm text-gray-900",children:"Описание страницы (Description)"}),a.jsx("textarea",{name:"page_description",rows:"3",onChange:p,className:"block p-2 xs:p-2.5 w-full text-sm xs:text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:e.page_description,placeholder:"Краткое описание для поисковых систем"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"w-full text-sm text-gray-900",children:"Текст для поисковых систем"}),a.jsx("textarea",{name:"hidden_seo_text",rows:"3",onChange:p,className:"block p-2.5 w-full text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:e.hidden_seo_text,placeholder:"Этот текст предназначен для поисковых систем и не виден пользователям. "})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"w-full text-xs xs:text-sm text-gray-900",children:"Ключевые слова (Keywords)"}),a.jsx(m,{type:"text",name:"page_keywords",className:"block p-2 xs:p-2.5 w-full text-sm xs:text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:e.page_keywords,onChange:p,placeholder:"Ключевые слова через запятую"})]})]}),a.jsx("button",{type:"submit",className:"w-full p-2 xs:p-2.5 sm:p-2.5 md:p-3 bg-gray-400 text-white rounded hover:bg-[#2F2F2F] transition-colors text-base xs:text-base sm:text-lg font-medium",children:"Добавить"})]})]})})};export{re as default};
