{"version":3,"file":"Popup-qEeYMmSK.js","sources":["../../../src/components/shared/popup/Popup.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Input from \"../../ui/Input\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  changeItemId,\r\n  changeShowPopup,\r\n  submitOrder,\r\n} from \"../../../utils/slice/userSlice\";\r\n\r\nconst Popup = () => {\r\n  const dispatch = useDispatch();\r\n  const [isOpen, setIsOpen] = useState(true);\r\n  const { equipmentById, solutionsById } = useSelector(({ user }) => user);\r\n\r\n  let productName = equipmentById\r\n    ? equipmentById?.name\r\n    : solutionsById?.name || \"Пользователь не указал наименование продукта\";\r\n  const [formData, setFormData] = useState({\r\n    company_name: \"\",\r\n    name: \"\",\r\n    phone: \"\",\r\n    email: \"\",\r\n    privacy: false,\r\n  });\r\n  useEffect(() => {\r\n    document.body.style.overflow = \"hidden\";\r\n  }, []);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: type === \"checkbox\" ? checked : value,\r\n      product_name: productName,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const newData = formData;\r\n      delete newData.privacy;\r\n      await dispatch(submitOrder(newData));\r\n      setIsOpen(false);\r\n      setFormData({\r\n        company_name: \"\",\r\n        name: \"\",\r\n        phone: \"\",\r\n        email: \"\",\r\n        privacy: false,\r\n      });\r\n      dispatch(changeShowPopup(false));\r\n      dispatch(changeItemId(null));\r\n    } catch (err) {\r\n      alert(\"Error\", err.message);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    dispatch(changeShowPopup(isOpen));\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <article className=\"fixed inset-0  flex items-center justify-center\">\r\n      <div\r\n        className=\"bg-white py-[25px] xs:py-[28px] \r\n      sm:py-[30px] md:py-[33px] lg:py-[35px] xl:py-[38px] \r\n      px-4 xs:px-5 sm:px-6 md:px-7 lg:px-8 rounded-lg \r\n      w-[90%] xs:w-[85%] sm:w-[80%] md:w-[70%] lg:w-[60%] xl:w-full \r\n      max-w-[300px] xs:max-w-[350px] sm:max-w-[400px] md:max-w-[450px] \r\n      lg:max-w-[500px] xl:max-w-[563px] max-h-[500px]  \r\n      lg:max-h-[520px] xl:max-h-[553px] relative\"\r\n      >\r\n        <button\r\n          onClick={() => setIsOpen(false)}\r\n          className=\"absolute top-2 xs:top-2.5 sm:top-3 md:top-3.5 lg:top-4 right-2 xs:right-2.5 sm:right-3 md:right-3.5 lg:right-4 text-gray-500 hover:text-gray-700\"\r\n        >\r\n          ✕\r\n        </button>\r\n        <h2 className=\"text-center text-xl xs:text-2xl sm:text-2xl md:text-3xl lg:text-[32px] font-medium leading-[30px] xs:leading-[32px] sm:leading-[35px] md:leading-[38px] lg:leading-[40.8px] text-gray-400 mb-4 xs:mb-4.5 sm:mb-5 md:mb-5.5 lg:mb-6\">\r\n          ОСТАВИТЬ ЗАЯВКУ\r\n        </h2>\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          className=\"space-y-[12px] xs:space-y-[14px] \r\n          sm:space-y-[15px] md:space-y-[16px] lg:space-y-[18px]\"\r\n        >\r\n          <Input\r\n            type={\"text\"}\r\n            name=\"company_name\"\r\n            placeholder=\"Наименование компании\"\r\n            value={formData.companyName}\r\n            onChange={handleInputChange}\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Имя\"\r\n            value={formData.name}\r\n            onChange={handleInputChange}\r\n          />\r\n          <Input\r\n            type=\"tel\"\r\n            name=\"phone\"\r\n            placeholder=\"+7 (999) 999-99-99\"\r\n            value={formData.phone}\r\n            onChange={handleInputChange}\r\n          />\r\n          <Input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"example@mail.ru\"\r\n            value={formData.email}\r\n            onChange={handleInputChange}\r\n          />\r\n          <div className=\"flex items-start space-x-1.5 xs:space-x-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              name=\"privacy\"\r\n              checked={formData.privacy}\r\n              onChange={handleInputChange}\r\n              className=\"mt-0.5 xs:mt-1\"\r\n              required\r\n            />\r\n            <label\r\n              htmlFor=\"privacy\"\r\n              className=\"text-xs xs:text-sm text-gray-600\"\r\n            >\r\n              Нажимая на кнопку, вы соглашаетесь с политикой конфиденциальности\r\n            </label>\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full p-2 xs:p-2.5 sm:p-2.5 md:p-3 bg-gray-400 text-white rounded hover:bg-[#2F2F2F] transition-colors text-base xs:text-base sm:text-lg font-medium\"\r\n          >\r\n            ОТПРАВИТЬ\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Popup;\r\n"],"names":["Popup","dispatch","useDispatch","isOpen","setIsOpen","useState","equipmentById","solutionsById","useSelector","user","productName","formData","setFormData","useEffect","handleInputChange","e","name","value","type","checked","prevData","__spreadProps","__spreadValues","handleSubmit","__async","newData","submitOrder","changeShowPopup","changeItemId","err","jsx","jsxs","Input"],"mappings":"+zBASA,MAAMA,EAAQ,IAAM,CAClB,MAAMC,EAAWC,EAAY,EACvB,CAACC,EAAQC,CAAS,EAAIC,EAAAA,SAAS,EAAI,EACnC,CAAE,cAAAC,EAAe,cAAAC,CAAc,EAAIC,EAAY,CAAC,CAAE,KAAAC,CAAK,IAAMA,CAAI,EAEvE,IAAIC,EAAcJ,EACdA,GAAA,YAAAA,EAAe,MACfC,GAAA,YAAAA,EAAe,OAAQ,+CAC3B,KAAM,CAACI,EAAUC,CAAW,EAAIP,WAAS,CACvC,aAAc,GACd,KAAM,GACN,MAAO,GACP,MAAO,GACP,QAAS,EAAA,CACV,EACDQ,EAAAA,UAAU,IAAM,CACL,SAAA,KAAK,MAAM,SAAW,QACjC,EAAG,EAAE,EAEC,MAAAC,EAAqBC,GAAM,CAC/B,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,KAAAC,EAAM,QAAAC,CAAA,EAAYJ,EAAE,OACzCH,EAAaQ,GAAcC,EAAAC,EAAA,GACtBF,GADsB,CAEzB,CAACJ,CAAI,EAAGE,IAAS,WAAaC,EAAUF,EACxC,aAAcP,CAAA,EACd,CACJ,EAEMa,EAAsBR,GAAMS,EAAA,wBAChCT,EAAE,eAAe,EAEb,GAAA,CACF,MAAMU,EAAUd,EAChB,OAAOc,EAAQ,QACT,MAAAxB,EAASyB,EAAYD,CAAO,CAAC,EACnCrB,EAAU,EAAK,EACHQ,EAAA,CACV,aAAc,GACd,KAAM,GACN,MAAO,GACP,MAAO,GACP,QAAS,EAAA,CACV,EACQX,EAAA0B,EAAgB,EAAK,CAAC,EACtB1B,EAAA2B,EAAa,IAAI,CAAC,QACpBC,EAAK,CACN,MAAA,QAASA,EAAI,OAAO,CAAA,CAE9B,GACAhB,OAAAA,EAAAA,UAAU,IAAM,CACLZ,EAAA0B,EAAgBxB,CAAM,CAAC,CAAA,EAC/B,CAACA,CAAM,CAAC,EAGT2B,EAAAA,IAAC,UAAQ,CAAA,UAAU,kDACjB,SAAAC,EAAA,KAAC,MAAA,CACC,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAQV,SAAA,CAAAD,EAAA,IAAC,SAAA,CACC,QAAS,IAAM1B,EAAU,EAAK,EAC9B,UAAU,mJACX,SAAA,GAAA,CAED,EACC0B,EAAA,IAAA,KAAA,CAAG,UAAU,qOAAqO,SAEnP,kBAAA,EACAC,EAAA,KAAC,OAAA,CACC,SAAUR,EACV,UAAU;AAAA,iEAGV,SAAA,CAAAO,EAAA,IAACE,EAAA,CACC,KAAM,OACN,KAAK,eACL,YAAY,wBACZ,MAAOrB,EAAS,YAChB,SAAUG,CAAA,CACZ,EACAgB,EAAA,IAACE,EAAA,CACC,KAAK,OACL,KAAK,OACL,YAAY,MACZ,MAAOrB,EAAS,KAChB,SAAUG,CAAA,CACZ,EACAgB,EAAA,IAACE,EAAA,CACC,KAAK,MACL,KAAK,QACL,YAAY,qBACZ,MAAOrB,EAAS,MAChB,SAAUG,CAAA,CACZ,EACAgB,EAAA,IAACE,EAAA,CACC,KAAK,QACL,KAAK,QACL,YAAY,kBACZ,MAAOrB,EAAS,MAChB,SAAUG,CAAA,CACZ,EACAiB,EAAAA,KAAC,MAAI,CAAA,UAAU,4CACb,SAAA,CAAAD,EAAA,IAAC,QAAA,CACC,KAAK,WACL,KAAK,UACL,QAASnB,EAAS,QAClB,SAAUG,EACV,UAAU,iBACV,SAAQ,EAAA,CACV,EACAgB,EAAA,IAAC,QAAA,CACC,QAAQ,UACR,UAAU,mCACX,SAAA,mEAAA,CAAA,CAED,EACF,EACAA,EAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,wJACX,SAAA,WAAA,CAAA,CAED,CAAA,CAAA,CACF,CAAA,CAAA,EAEJ,CAEJ"}