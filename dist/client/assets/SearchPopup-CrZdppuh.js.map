{"version":3,"file":"SearchPopup-CrZdppuh.js","sources":["../../../src/components/shared/popup/SearchPopup.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport SearchInput from \"../../ui/SearchInput\";\r\nimport { changeShowSearchPopup } from \"../../../utils/slice/userSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Button from \"../../ui/Button\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function SearchPopup() {\r\n  const { equipment, solutions } = useSelector(({ user }) => user);\r\n  const dispatch = useDispatch();\r\n  const [combinedData, setCombinedData] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  useEffect(() => {\r\n    setCombinedData([...equipment, ...solutions]);\r\n  }, [equipment, solutions]);\r\n\r\n  const [searchData, setSearchData] = useState([...equipment, ...solutions]);\r\n\r\n  const handleSearch = (value) => {\r\n    setSearchValue(value);\r\n    const filteredData = combinedData.filter(\r\n      (item) =>\r\n        item.name.toLowerCase().includes(value.toLowerCase()) ||\r\n        item.description.toLowerCase().includes(value.toLowerCase())\r\n    );\r\n    setSearchData(filteredData);\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.body.style.overflow = \"hidden\";\r\n    return () => {\r\n      document.body.style.overflow = \"auto\";\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    dispatch(changeShowSearchPopup(false));\r\n  };\r\n\r\n  return (\r\n    <section className=\"h-[80%] min-w-[80%] fixed inset-0 top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%]\">\r\n      <div\r\n        className=\"bg-white pt-2 xs:pt-3 sm:pt-4 px-4 xs:px-5 sm:px-6 md:px-7 lg:px-8\r\n       rounded-lg min-w-[100%]\r\n        overflow-y-scroll relative max-h-[100%] min-h-[100%]\r\n         pb-6 xs:pb-7 sm:pb-8 md:pb-9 lg:pb-10\"\r\n      >\r\n        <div\r\n          itemScope\r\n          itemType=\"https://schema.org/WebSite\"\r\n          className=\"sticky z-50 flex-center top-[-20px] left-0 bg-white h-[60px]\r\n           xs:h-[65px] sm:h-[70px] md:h-[75px] lg:h-[80px]\"\r\n        >\r\n          <meta itemProp=\"url\" content=\"https://new.recensa.ru/\" />\r\n          <SearchInput\r\n            handleSearch={handleSearch}\r\n            handleClose={handleClose}\r\n            placeholder={\"Введите запрос для поиска\"}\r\n            closeIcon={true}\r\n            iconLeft={true}\r\n            className={\"border-0 border-b border-b-gray-200 gap-4\"}\r\n          />\r\n        </div>\r\n        <div className=\"mt-2 xs:mt-3 sm:mt-4 flex justify-center \">\r\n          {searchData.length > 0 ? (\r\n            <div className=\" grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 3xl:grid-cols-5 gap-3 xs:gap-4 sm:gap-5\">\r\n              {searchData.map(\r\n                ({ image_card, name, description, id, max_param }, i) => (\r\n                  <Link\r\n                    onClick={() => handleClose()}\r\n                    to={max_param ? `/equipment/${id}` : `/solutions/${id}`}\r\n                    key={i}\r\n                    className=\"flex flex-col justify-between w-full xs:w-[180px] sm:w-[190px] md:w-[195px] lg:w-[200px] border border-gray-100 p-2 xs:p-3 sm:p-4\"\r\n                  >\r\n                    <div>\r\n                      <img\r\n                        className=\"w-full h-[120px] xs:h-[130px] sm:h-[140px] md:h-[150px] lg:h-[160px] object-cover\"\r\n                        src={image_card || \"/placeholder.svg\"}\r\n                        alt={name}\r\n                        title={`Продукт ${name}`}\r\n                      />\r\n                      <h2 className=\"text-gray-400 text-xs xs:text-sm uppercase font-normal my-1 xs:my-1.5 sm:my-2\">\r\n                        {name}\r\n                      </h2>\r\n                      <p className=\"text-[11px] xs:text-[12px] sm:text-[13px] text-gray-300 line-clamp-3\">\r\n                        {description}\r\n                      </p>\r\n                    </div>\r\n                    <Button\r\n                      noLink={true}\r\n                      text={\"Оставить заявку\"}\r\n                      className=\"w-full py-2 xs:py-3 sm:py-4 px-[8px] xs:px-[10px] sm:px-[8px] hover:bg-gray-450 mt-2 xs:mt-3 sm:mt-4 text-sm xs:text-xs\"\r\n                    />\r\n                  </Link>\r\n                )\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"w-full h-[60vh] flex-center justify-center \">\r\n              <p className=\"text-gray-400\">\r\n                По вашему запросу ничего не найдено\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":["SearchPopup","equipment","solutions","useSelector","user","dispatch","useDispatch","combinedData","setCombinedData","useState","searchValue","setSearchValue","useEffect","searchData","setSearchData","handleSearch","value","filteredData","item","handleClose","changeShowSearchPopup","jsx","jsxs","SearchInput","image_card","name","description","id","max_param","i","Link","Button"],"mappings":"iMAOA,SAAwBA,GAAc,CAC9B,KAAA,CAAE,UAAAC,EAAW,UAAAC,CAAU,EAAIC,EAAY,CAAC,CAAE,KAAAC,CAAK,IAAMA,CAAI,EACzDC,EAAWC,EAAY,EACvB,CAACC,EAAcC,CAAe,EAAIC,EAAAA,SAAS,CAAA,CAAE,EAC7C,CAACC,EAAaC,CAAc,EAAIF,EAAAA,SAAS,EAAE,EACjDG,EAAAA,UAAU,IAAM,CACdJ,EAAgB,CAAC,GAAGP,EAAW,GAAGC,CAAS,CAAC,CAAA,EAC3C,CAACD,EAAWC,CAAS,CAAC,EAEnB,KAAA,CAACW,EAAYC,CAAa,EAAIL,EAAAA,SAAS,CAAC,GAAGR,EAAW,GAAGC,CAAS,CAAC,EAEnEa,EAAgBC,GAAU,CAC9BL,EAAeK,CAAK,EACpB,MAAMC,EAAeV,EAAa,OAC/BW,GACCA,EAAK,KAAK,YAAY,EAAE,SAASF,EAAM,YAAa,CAAA,GACpDE,EAAK,YAAY,cAAc,SAASF,EAAM,YAAa,CAAA,CAC/D,EACAF,EAAcG,CAAY,CAC5B,EAEAL,EAAAA,UAAU,KACC,SAAA,KAAK,MAAM,SAAW,SACxB,IAAM,CACF,SAAA,KAAK,MAAM,SAAW,MACjC,GACC,EAAE,EAEL,MAAMO,EAAc,IAAM,CACfd,EAAAe,EAAsB,EAAK,CAAC,CACvC,EAGE,OAAAC,EAAAA,IAAC,UAAQ,CAAA,UAAU,+FACjB,SAAAC,EAAA,KAAC,MAAA,CACC,UAAU;AAAA;AAAA;AAAA,gDAKV,SAAA,CAAAA,EAAA,KAAC,MAAA,CACC,UAAS,GACT,SAAS,6BACT,UAAU;AAAA,4DAGV,SAAA,CAAAD,EAAA,IAAC,OAAK,CAAA,SAAS,MAAM,QAAQ,0BAA0B,EACvDA,EAAA,IAACE,EAAA,CACC,aAAAR,EACA,YAAAI,EACA,YAAa,4BACb,UAAW,GACX,SAAU,GACV,UAAW,2CAAA,CAAA,CACb,CAAA,CACF,EACAE,EAAA,IAAC,MAAI,CAAA,UAAU,4CACZ,SAAAR,EAAW,OAAS,EAClBQ,EAAA,IAAA,MAAA,CAAI,UAAU,0GACZ,SAAWR,EAAA,IACV,CAAC,CAAE,WAAAW,EAAY,KAAAC,EAAM,YAAAC,EAAa,GAAAC,EAAI,UAAAC,CAAA,EAAaC,IACjDP,EAAA,KAACQ,EAAA,CACC,QAAS,IAAMX,EAAY,EAC3B,GAAIS,EAAY,cAAcD,CAAE,GAAK,cAAcA,CAAE,GAErD,UAAU,oIAEV,SAAA,CAAAL,OAAC,MACC,CAAA,SAAA,CAAAD,EAAA,IAAC,MAAA,CACC,UAAU,oFACV,IAAKG,GAAc,mBACnB,IAAKC,EACL,MAAO,WAAWA,CAAI,EAAA,CACxB,EACCJ,EAAA,IAAA,KAAA,CAAG,UAAU,gFACX,SACHI,EAAA,EACCJ,EAAA,IAAA,IAAA,CAAE,UAAU,uEACV,SACHK,CAAA,CAAA,CAAA,EACF,EACAL,EAAA,IAACU,EAAA,CACC,OAAQ,GACR,KAAM,kBACN,UAAU,yHAAA,CAAA,CACZ,CAAA,EArBKF,CAAA,CAsBP,CAGN,CAAA,EAECR,EAAAA,IAAA,MAAA,CAAI,UAAU,8CACb,SAACA,EAAAA,IAAA,IAAA,CAAE,UAAU,gBAAgB,SAE7B,qCAAA,CAAA,CAAA,CACF,CAEJ,CAAA,CAAA,CAAA,CAAA,EAEJ,CAEJ"}