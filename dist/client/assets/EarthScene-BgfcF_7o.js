var S=Object.defineProperty,v=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var g=(n,e,s)=>e in n?S(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,y=(n,e)=>{for(var s in e||(e={}))E.call(e,s)&&g(n,s,e[s]);if(j)for(var s of j(e))R.call(e,s)&&g(n,s,e[s]);return n},w=(n,e)=>v(n,k(e));import{r as p,a as U,j as t,H as C,u as b,b as L,T as P,C as N,O as z}from"./three-vendor-Ci446NTQ.js";import"./react-vendor-DomL0yj5.js";function M({position:n,title:e,description:s,mapUrl:h,handleLocationClick:c,i:x}){const[l,o]=p.useState(0),m=(r,a)=>{r.stopPropagation(),c(r,a),o(l===0?1:0)},d=r=>{r.stopPropagation(),c(r,null),l===1&&o(0)},u=()=>{l===1&&o(0)};return U.useEffect(()=>(document.addEventListener("click",u),()=>document.removeEventListener("click",u)),[l]),t.jsxs("mesh",{position:n,children:[t.jsx("sphereGeometry",{args:[.014,16,16]}),t.jsx("meshBasicMaterial",{color:"#4a90e2"}),t.jsx(C,{position:[.03,.001,0],className:"pointer-events-auto",distanceFactor:6,occlude:!0,children:t.jsxs("div",{className:"flex flex-col items-start pt-1 relative",children:[t.jsx("div",{className:`text-white text-opacity-90 text-[8px] xl:text-xs hover:text-[#4a90e2] transition-colors duration-300 cursor-pointer whitespace-nowrap  absolute top-1 left-0 z-30 ${e==="Офис Recensa Екатеринбург"?"top-[-32px] left-[-105px] xl:top-[-34px] xl:left-[-160px]":e==="Жилые комплексы"?"top-[-21px] left-[-103px]":e==="Пищевое производство"?"top-[-22px] ":""}`,onClick:r=>m(r,x),children:e}),l===1&&t.jsxs("a",{target:"_blank",href:h,className:`bg-[#000] absolute  z-50  text-white rounded px-2 py-1 mt-1 w-40 shadow-lg 
                text-xs cursor-pointer hover:bg-[#4a90e2] transition-colors 
                duration-200 ${e==="Офис Recensa Екатеринбург"?"top-[-16px] left-[-160px]":e==="Жилые комплексы"?"top-[0px] left-[-103px]":e==="Пищевое производство"?"top-[0px] ":"top-[20px] left-0"}`,onClick:d,children:[t.jsx("p",{className:"leading-tight",children:s}),t.jsx("p",{className:"text-blue-300 text-[6px] mt-1",children:"Нажмите еще раз для открытия карты"})]})]})})]})}function I({index:n,locations:e}){console.log("Earth");const s=p.useRef(),h=b(P,"/texture_earth.jpg"),[c,x]=p.useState(null),[l,o]=p.useState(!1),[m,d]=p.useState(0);L(({clock:a})=>{s.current.rotation.y=a.getElapsedTime()*0});const u=(a,i)=>{var f;(f=a==null?void 0:a.stopPropagation)==null||f.call(a),c===i?l?(x(null),o(!1)):o(!0):(x(i),o(!0))},r=()=>{x(null),o(!1)};return p.useEffect(()=>(document.addEventListener("click",r),()=>document.removeEventListener("click",r)),[]),p.useEffect(()=>{const a=()=>{d(i=>i+1)};return d(i=>i+1),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),t.jsxs("group",{scale:1.2,rotation:[.8,-2.6,0],onClick:a=>a.stopPropagation(),children:[t.jsx("ambientLight",{intensity:.8}),t.jsx("directionalLight",{position:[200,200,200],intensity:.7,castShadow:!0}),t.jsx("directionalLight",{position:[-200,-200,-200],intensity:.4,castShadow:!0}),t.jsxs("mesh",{ref:s,children:[t.jsx("sphereGeometry",{args:[1.8,64,64]}),t.jsx("meshStandardMaterial",{map:h,metalness:.05,roughness:.9,color:"#cccccc"}),e[n].map((a,i)=>c===null||c===i?t.jsx(M,w(y({},a),{i,handleLocationClick:u,isSelected:c===i,showDescription:l}),i):null)]}),t.jsxs("mesh",{children:[t.jsx("sphereGeometry",{args:[1.85,64,64]}),t.jsx("meshBasicMaterial",{color:"#3a85ff",transparent:!0,opacity:.03})]})]},m)}const T=[[{position:[.6,1.5,-.9],title:"Уральский экономический колледж",description:"Административное здание",mapUrl:"https://yandex.ru/maps/?text=Уральский+экономический+колледж"},{position:[.05,1.52,-1.05],title:"МФЦ Республика Бурятия",description:"Верхняя Березовка, Иволгинск, Нижняя Иволга, Нижний Саянтуй",mapUrl:"https://yandex.ru/maps/?text=МФЦ+Республика+Бурятия"},{position:[.1,1.28,-1.4],title:"ТРЦ Пионер",description:"г. Улан-Удэ",mapUrl:"https://yandex.ru/maps/?text=ТРЦ+Пионер+Улан-Удэ"},{position:[1,1.4,-.7],title:"Административное здание Министерства обороны",description:"г. Москва",mapUrl:"https://yandex.ru/maps/?text=Министерство+обороны+Москва"},{position:[.43,1.48,-1.04],title:"Жилые комплексы",description:"ЖК Прайм, ЖК Современник, ЖК Сокол - г.Барнаул",mapUrl:"https://yandex.ru/maps/?text=ЖК+Прайм+ЖК+Современник+ЖК+Сокол+Барнаул"},{position:[.5,1.25,-1.3],title:"Офис Recensa Новосибирск",description:"г.Новосибирск ул.Шевченко д.4 офис 509 ",mapUrl:"https://yandex.ru/maps/?text=Новосибирск+улица+Шевченко+4"},{position:[.75,1.5,-.85],title:"Офис Recensa Екатеринбург",description:"г.Екатеринбург ул. Свердлова д.11 А офис 512",mapUrl:"https://yandex.ru/maps/?text=Екатеринбург+улица+Свердлова+11А"}],[{position:[-.1,1.6,-1],title:"Мирнинский Горно-обогатительный комбинат Алроса",description:"г.Мирный",mapUrl:"https://yandex.ru/maps/?text=Мирнинский+Горно-обогатительный+комбинат+Алроса"},{position:[1,1.4,-.7],title:"НИЦ «Курчатовский институт»",description:"г. Москва",mapUrl:"https://yandex.ru/maps/?text=НИЦ+Курчатовский+институт+Москва"},{position:[-.3,1.6,-1],title:"Пищевое производство",description:"г. Якутск",mapUrl:"https://yandex.ru/maps/?text=пищевое+производство+Якутск"},{position:[.1,1.28,-1.4],title:"Производство Абсолют Кэш Энд Кэрри",description:"г. Улан-Удэ",mapUrl:"https://yandex.ru/maps/?text=Абсолют+Кэш+Энд+Кэрри+Улан-Удэ"},{position:[.5,1.25,-1.3],title:"Офис Recensa Новосибирск",description:"г.Новосибирск ул.Шевченко д.4 офис 509 ",mapUrl:"https://yandex.ru/maps/?text=Новосибирск+улица+Шевченко+4"},{position:[.75,1.5,-.85],title:"Офис Recensa Екатеринбург",description:"г.Екатеринбург ул. Свердлова д.11 А офис 512",mapUrl:"https://yandex.ru/maps/?text=Екатеринбург+улица+Свердлова+11А"}],[{position:[.4,1.4,-1.2],title:"Центральная городская больница",description:"Таджикистан, Хатлонская область, Нурек",mapUrl:"https://yandex.ru/maps/?text=Центральная+городская+больница+Нурек+Таджикистан"},{position:[.5,1.25,-1.3],title:"Офис Recensa Новосибирск",description:"г.Новосибирск ул.Шевченко д.4 офис 509 ",mapUrl:"https://yandex.ru/maps/?text=Новосибирск+улица+Шевченко+4"},{position:[.75,1.5,-.85],title:"Офис Recensa Екатеринбург",description:"г.Екатеринбург ул. Свердлова д.11 А офис 512",mapUrl:"https://yandex.ru/maps/?text=Екатеринбург+улица+Свердлова+11А"}]];function A({index:n}){const[e,s]=p.useState(!1);return p.useEffect(()=>{s(!0)},[]),t.jsx("article",{className:`xs:w-[400px] xs:h-[450px]\r
      sm:w-[600px] sm:h-[500px]\r
      md:w-[800px] md:h-[500px]\r
      lg:w-[1000px] lg:h-[600px]\r
      xl:w-[500px] xl:h-[500px]\r
      2xl:w-[1000px] 2xl:h-[660px] select-none`,children:e&&t.jsxs(N,{camera:{position:[0,0,6],fov:45},style:{background:"transparent",width:"100%",height:"100%"},children:[t.jsx("div",{children:"dsadasdasdasdasd"}),t.jsx(I,{index:n,locations:T}),t.jsx(z,{enableZoom:!1,enablePan:!0,enableRotate:!0,zoomSpeed:.6,panSpeed:.5,rotateSpeed:.4,minPolarAngle:Math.PI/2,maxPolarAngle:Math.PI/2})]})})}export{A as default};
