{"version":3,"file":"StatusPopup-BFtgJIil.js","sources":["../../../src/components/shared/popup/StatusPopup.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { changeShowStatus } from \"../../../utils/slice/userSlice\";\r\n\r\nexport default function StatusPopup({ orders }) {\r\n  const dispatch = useDispatch();\r\n  const { orderNum } = useSelector(({ user }) => user);\r\n  const [isOpen, setIsOpen] = useState(true);\r\n  const [findOrder, setFindOrder] = useState(null);\r\n  const [updateOrder, setUpdateOrder] = useState(orders);\r\n\r\n  document.body.style.overflowY = \"hidden\";\r\n\r\n  useEffect(() => {\r\n    if (!updateOrder) return;\r\n    if (updateOrder.length > 0 && orderNum) {\r\n      setFindOrder(updateOrder.find((order) => +order.number === +orderNum));\r\n    }\r\n  }, [setUpdateOrder, updateOrder]);\r\n  useEffect(() => {\r\n    dispatch(changeShowStatus(isOpen));\r\n  }, [isOpen]);\r\n  const getColor = (state) => {\r\n    const toLowerCase = state.toLowerCase();\r\n    if (toLowerCase == \"отменен\") return \"bg-red\";\r\n    if (toLowerCase == \"доставлен\") return \"bg-green\";\r\n    if (toLowerCase == \"оплачен\") return \"bg-blue\";\r\n    return \"bg-gray-400\";\r\n  };\r\n\r\n  return (\r\n    <section className=\"max-w-[100vw] max-h-[100vh] fixed inset-0  z-50 flex items-center justify-center\">\r\n      <div\r\n        className=\"bg-white py-[38px] px-8 rounded-lg xl:min-h-[200px] xl:h-[auto]  \r\n         w-[80%] xl:max-w-[800px] lg:max-h-[553px] flex flex-col justify-normal xl:justify-center relative\"\r\n      >\r\n        <button\r\n          onClick={() => setIsOpen(false)}\r\n          className=\"absolute top-4 right-4 text-gray-500 hover:text-gray-700\"\r\n        >\r\n          ✕\r\n        </button>\r\n        <h2 className=\"text-center text-lg lg:text-xl font-medium leading-8 lg:leading-[40.8px] text-gray-400 mb-6 uppercase\">\r\n          вы можете проверить статус своего заказа\r\n        </h2>\r\n        {findOrder ? (\r\n          <div className=\"flex justify-center\">\r\n            <table className=\" xl:w-[80%] \">\r\n              <thead\r\n                className=\"border-0 xl:border-b border-gray-400 relative  \r\n              :max-w-[400px]\"\r\n              >\r\n                <tr\r\n                  className=\"flex xl:*:min-w-[113px]  flex-col font-normal text-base text-gray-400 *:py-4  xl:flex xl:flex-row justify-between \r\n                 w-[280px] sm:w-[300px] md:w-[350px] xl:w-[600px] px-2\"\r\n                >\r\n                  <th className=\"text-left xl:text-center  border-b xl:border-b-0 border-b-gray-400 \">\r\n                    Номер\r\n                  </th>\r\n                  <th className=\"text-left xl:text-center     border-b xl:border-b-0 border-b-gray-400\">\r\n                    Дата\r\n                  </th>\r\n                  <th className=\"text-left xl:text-center       border-b xl:border-b-0 border-b-gray-400\">\r\n                    Статус\r\n                  </th>\r\n                  <th className=\"text-left xl:text-center     border-b xl:border-b-0 border-b-gray-400\">\r\n                    Сумма\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr className=\"*:py-4 xl:*:min-w-[113px]   flex flex-col left-[-2vw] top-[132px] sm:left-[5vw] sm:top-[132px] md:top-[105px] md:left-[22vw] text-right xl:text-left absolute xl:static  xl:flex-row justify-between w-[300px]  xl:w-[600px] px-2\">\r\n                  <td className=\"xl:text-center  text-sm text-gray-400 pl-[5px]\">\r\n                    {findOrder.number}\r\n                  </td>\r\n                  <td className=\"xl:text-center  text-sm text-gray-400 \">\r\n                    {findOrder.date}\r\n                  </td>\r\n                  <td className=\" xl:text-center  mt-[4px] xl:mt-0  \">\r\n                    <p\r\n                      className={`  inline-flex items-center justify-center gap-2 xl:px-2  rounded-full text-gray-400`}\r\n                    >\r\n                      <p\r\n                        className={`w-1.5 h-1.5 rounded-full ${getColor(\r\n                          findOrder.state\r\n                        )}`}\r\n                      />\r\n                      {findOrder.state}\r\n                    </p>\r\n                  </td>\r\n                  <td className=\"xl:text-center text-sm text-gray-400  mt-[3px] xl:mt-0\">\r\n                    {findOrder.order_amount} ₽\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center text-sm text-gray-400\">\r\n            <p>Заказ с номером {orderNum} не найден</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":["StatusPopup","orders","dispatch","useDispatch","orderNum","useSelector","user","isOpen","setIsOpen","useState","findOrder","setFindOrder","updateOrder","setUpdateOrder","useEffect","order","changeShowStatus","getColor","state","toLowerCase","jsx","jsxs"],"mappings":"+IAIwB,SAAAA,EAAY,CAAE,OAAAC,GAAU,CAC9C,MAAMC,EAAWC,EAAY,EACvB,CAAE,SAAAC,GAAaC,EAAY,CAAC,CAAE,KAAAC,KAAWA,CAAI,EAC7C,CAACC,EAAQC,CAAS,EAAIC,EAAAA,SAAS,EAAI,EACnC,CAACC,EAAWC,CAAY,EAAIF,EAAAA,SAAS,IAAI,EACzC,CAACG,EAAaC,CAAc,EAAIJ,EAAAA,SAASR,CAAM,EAE5C,SAAA,KAAK,MAAM,UAAY,SAEhCa,EAAAA,UAAU,IAAM,CACTF,GACDA,EAAY,OAAS,GAAKR,GACfO,EAAAC,EAAY,KAAMG,GAAU,CAACA,EAAM,QAAW,CAACX,CAAQ,CAAC,CACvE,EACC,CAACS,EAAgBD,CAAW,CAAC,EAChCE,EAAAA,UAAU,IAAM,CACLZ,EAAAc,EAAiBT,CAAM,CAAC,CAAA,EAChC,CAACA,CAAM,CAAC,EACL,MAAAU,EAAYC,GAAU,CACpB,MAAAC,EAAcD,EAAM,YAAY,EAClC,OAAAC,GAAe,UAAkB,SACjCA,GAAe,YAAoB,WACnCA,GAAe,UAAkB,UAC9B,aACT,EAGE,OAAAC,EAAAA,IAAC,UAAQ,CAAA,UAAU,mFACjB,SAAAC,EAAA,KAAC,MAAA,CACC,UAAU;AAAA,4GAGV,SAAA,CAAAD,EAAA,IAAC,SAAA,CACC,QAAS,IAAMZ,EAAU,EAAK,EAC9B,UAAU,2DACX,SAAA,GAAA,CAED,EACCY,EAAA,IAAA,KAAA,CAAG,UAAU,wGAAwG,SAEtH,2CAAA,EACCV,QACE,MAAI,CAAA,UAAU,sBACb,SAACW,EAAAA,KAAA,QAAA,CAAM,UAAU,eACf,SAAA,CAAAD,EAAA,IAAC,QAAA,CACC,UAAU;AAAA,8BAGV,SAAAC,EAAA,KAAC,KAAA,CACC,UAAU;AAAA,wEAGV,SAAA,CAACD,EAAA,IAAA,KAAA,CAAG,UAAU,sEAAsE,SAEpF,QAAA,EACCA,EAAA,IAAA,KAAA,CAAG,UAAU,wEAAwE,SAEtF,OAAA,EACCA,EAAA,IAAA,KAAA,CAAG,UAAU,0EAA0E,SAExF,SAAA,EACCA,EAAA,IAAA,KAAA,CAAG,UAAU,wEAAwE,SAEtF,OAAA,CAAA,CAAA,CAAA,CAAA,CACF,CACF,EACCA,MAAA,QAAA,CACC,SAACC,EAAAA,KAAA,KAAA,CAAG,UAAU,oOACZ,SAAA,CAAAD,EAAA,IAAC,KAAG,CAAA,UAAU,iDACX,SAAAV,EAAU,OACb,EACCU,EAAA,IAAA,KAAA,CAAG,UAAU,yCACX,WAAU,KACb,EACAA,EAAAA,IAAC,KAAG,CAAA,UAAU,sCACZ,SAAAC,EAAA,KAAC,IAAA,CACC,UAAW,sFAEX,SAAA,CAAAD,EAAA,IAAC,IAAA,CACC,UAAW,4BAA4BH,EACrCP,EAAU,KAAA,CACX,EAAA,CACH,EACCA,EAAU,KAAA,CAAA,CAAA,EAEf,EACAW,EAAAA,KAAC,KAAG,CAAA,UAAU,yDACX,SAAA,CAAUX,EAAA,aAAa,IAAA,CAC1B,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EAEAU,EAAA,IAAC,OAAI,UAAU,oCACb,gBAAC,IAAE,CAAA,SAAA,CAAA,mBAAiBhB,EAAS,YAAA,CAAA,CAAU,CACzC,CAAA,CAAA,CAAA,CAAA,EAGN,CAEJ"}