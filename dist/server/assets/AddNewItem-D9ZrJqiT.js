const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jodit-react-UrcQZOBQ.js","assets/index-BJ0YpEgP.js","assets/index-Clibuwr4.css"])))=>i.map(i=>d[i]);
import{u as e,h as a,j as t,n as s,o as r,p as l,q as x,r as n,t as d,v as i,_ as p}from"./index-BJ0YpEgP.js";import{useState as o,useRef as m,Suspense as c,lazy as g}from"react";import{I as _}from"./Input-Bvq7N3EP.js";import{I as h}from"./ImageUploader-Cf5dv2FZ.js";import{c as b}from"./data-6c0gwsFc.js";import"react-dom";const y=g((()=>p((()=>import("./jodit-react-UrcQZOBQ.js").then((e=>e.j))),__vite__mapDeps([0,1,2])))),u=()=>{const p=e(),{pathname:g}=a(),u=g.split("/").at(-1),f=4==+u,j=3==+u,[w,N]=o(""),[v,k]=o((()=>f?{title:"",text:"",page_description:"",page_title:"",page_keywords:"",hidden_seo_text:""}:j?{name:"",description:"",sub_header:"",header:"",image_banner_alt:"",image_card_alt:"",page_description:"",page_title:"",page_keywords:"",extra_description:"",hidden_seo_text:""}:{name:"",description:"",min_param:"",max_param:"",sub_header:"",header:"",image_banner_alt:"",image_card_alt:"",page_description:"",page_title:"",page_keywords:"",extra_description:"",hidden_seo_text:""})),[C,F]=o(null),[I,S]=o(null),B=e=>{const{name:a,value:t}=e.target;k((e=>({...e,[a]:t})))},E=(e,a)=>{k((t=>({...t,[e]:a})))},q=m(null),A=m(null),D=m(null),O=m(null);return t.jsx("section",{className:"fixed inset-0 flex items-center justify-center px-4 xs:px-5 \r\n    sm:px-6 md:px-7 lg:px-8",children:t.jsxs("div",{className:"bg-white py-[25px] xs:py-[28px] sm:py-[30px] md:py-[33px] \r\n      lg:py-[35px] xl:py-[38px] px-4 xs:px-5 sm:px-6 md:px-7 lg:px-8 \r\n      rounded-lg w-[90%] xs:w-[85%] sm:w-[80%] md:w-[70%] lg:w-[60%] xl:w-full \r\n      max-w-[300px] xs:max-w-[350px] sm:max-w-[450px] md:max-w-[550px] \r\n      lg:max-w-[600px] xl:max-w-[663px] relative overflow-y-scroll  overflow-x-hidden max-h-[85%]",children:[t.jsx("button",{onClick:()=>p(s(!1)),className:"absolute top-2 xs:top-2.5 sm:top-3 md:top-3.5 lg:top-4 right-2 xs:right-2.5 sm:right-3 md:right-3.5 lg:right-4 text-gray-500 hover:text-gray-700",children:"✕"}),t.jsx("h2",{className:"text-center text-xl xs:text-2xl sm:text-2xl md:text-3xl lg:text-[32px] font-medium leading-[30px] xs:leading-[32px] sm:leading-[35px] md:leading-[38px] lg:leading-[40.8px] text-gray-400 mb-4 xs:mb-4.5 sm:mb-5 md:mb-5.5 lg:mb-6",children:(T=u,2==T?"Добавление нового обрудования":3==T?"Добавление нового решения":4==T?"Добавление новой новости":void 0)}),t.jsxs("form",{onSubmit:async e=>{e.preventDefault(),N(""),console.log(v);try{if(f){if(!v.title||!v.text||!C)return void N("Пожалуйста, заполните все обязательные поля и загрузите изображение");const e={title:v.title,text:v.text,news_photo:C,page_description:v.page_description,page_title:v.page_title,page_keywords:v.page_keywords,hidden_seo_text:v.hidden_seo_text};await p(r(e)),await p(l()),k({title:"",text:""})}else if(2==+u){if(console.log(v),!(v.name&&v.description&&C&&I&&v.min_param&&v.max_param&&v.header&&v.sub_header&&v.extra_description))return void N("Пожалуйста, заполните все обязательные поля и загрузите изображение");const e={name:v.name,description:v.description,image_card:C,image_banner:I,min_param:parseInt(v.min_param),max_param:parseInt(v.max_param),sub_header:v.sub_header,header:v.header,image_banner_alt:v.image_banner_alt,image_card_alt:v.image_card_alt,page_description:v.page_description,page_title:v.page_title,page_keywords:v.page_keywords,extra_description:v.extra_description,hidden_seo_text:v.hidden_seo_text};await p(x(e)).unwrap(),await p(n()),k({name:"",description:"",min_param:"",max_param:"",sub_header:"",header:"",image_banner_alt:"",image_card_alt:"",page_description:"",page_title:"",page_keywords:"",extra_description:"",hidden_seo_text:""})}else if(3==+u){if(!(v.name&&v.description&&C&&I&&v.header&&v.sub_header&&v.extra_description))return void N("Пожалуйста, заполните все обязательные поля и загрузите изображение");const e={name:v.name,description:v.description,image_card:C,image_banner:I,sub_header:v.sub_header,header:v.header,image_banner_alt:v.image_banner_alt,image_card_alt:v.image_card_alt,page_description:v.page_description,page_title:v.page_title,page_keywords:v.page_keywords,extra_description:v.extra_description,hidden_seo_text:v.hidden_seo_text};await p(d(e)),await p(i()),k({name:"",description:"",sub_header:"",header:"",image_banner_alt:"",image_card_alt:"",page_description:"",page_title:"",page_keywords:"",extra_description:"",hidden_seo_text:""})}F(null),p(s(!1))}catch(a){console.error("Failed to create item:",a);alert(`Не удалось создать ${f?"новость":2==+u?"оборудование":"решение"}. Возможно вы уже добавляли фото с таким названием, переименуйте и попробуйте ещё раз`)}},className:"space-y-[12px] xs:space-y-[14px] sm:space-y-[15px] md:space-y-[16px] lg:space-y-[18px]",children:[!f&&t.jsxs("div",{children:[t.jsx("p",{className:"w-full text-sm text-gray-900",children:"Изображение для баннера"}),t.jsx(h,{banner:!0,onFileSelect:S}),t.jsxs("div",{className:"space-y-2 mt-2",children:[t.jsx("p",{className:"w-full text-xs xs:text-sm text-gray-900",children:"Alt-тег для баннера"}),t.jsx(_,{type:"text",name:"image_banner_alt",className:"block p-2 xs:p-2.5 w-full text-sm xs:text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:v.image_banner_alt,onChange:B,placeholder:"Описание изображения баннера"})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"w-full text-sm text-gray-900",children:"Изображение для карточки"}),t.jsx(h,{onFileSelect:F}),!f&&t.jsxs("div",{className:"space-y-2 mt-2",children:[t.jsx("p",{className:"w-full text-xs xs:text-sm text-gray-900",children:"Alt-тег для карточки"}),t.jsx(_,{type:"text",name:"image_card_alt",className:"block p-2 xs:p-2.5 w-full text-sm xs:text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:v.image_card_alt,onChange:B,placeholder:"Описание изображения карточки"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"w-full text-xs xs:text-sm text-gray-900",children:"Название"}),t.jsx(_,{type:"text",name:f?"title":"name",className:"block p-2 xs:p-2.5 w-full text-sm xs:text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:f?v.title:v.name,onChange:B})]}),t.jsx("label",{htmlFor:"message",className:"block w-full text-xs xs:text-sm text-gray-900",children:f?"Текст новости":"Описание"}),f?t.jsx(c,{fallback:t.jsx("div",{className:"border border-gray-300 h-[150px] w-full"}),children:t.jsx(y,{ref:A,value:v.text||"",config:b,onBlur:e=>E("text",e)})}):t.jsx(c,{fallback:t.jsx("div",{className:"border border-gray-300 h-[150px] w-full"}),children:t.jsx(y,{ref:q,value:v.description||"",config:b,onBlur:e=>E("description",e)})}),!f&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2 pt-4",children:[t.jsx("label",{htmlFor:"message",className:"block text-sm text-gray-900",children:"Полное описание товара"}),t.jsx(c,{fallback:t.jsx("div",{className:"border border-gray-300 h-[150px] w-full"}),children:t.jsx(y,{ref:D,value:v.extra_description||"",config:b,onBlur:e=>E("extra_description",e)})})]}),t.jsxs("div",{className:"space-y-2 pt-4",children:[t.jsx("p",{className:"w-full text-xs xs:text-sm text-gray-900",children:"Заголовок баннера"}),t.jsx(_,{type:"text",name:"sub_header",className:"block p-2 xs:p-2.5 w-full text-sm xs:text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:v.sub_header,onChange:B})]}),t.jsx("label",{htmlFor:"message",className:"block w-full text-xs xs:text-sm text-gray-900",children:"Текст баннера"}),t.jsx(c,{fallback:t.jsx("div",{className:"border border-gray-300 h-[150px] w-full"}),children:t.jsx(y,{ref:O,value:v.header||"",config:b,onBlur:e=>E("header",e)})})]}),2==+u&&t.jsxs("div",{className:"flex w-full justify-between gap-4 pb-5 pt-4",children:[t.jsxs("div",{className:"w-[48%] space-y-2",children:[t.jsx("p",{className:"block w-full text-xs xs:text-sm text-gray-900",children:"От"}),t.jsx(_,{required:!0,type:"number",name:"min_param",value:v.min_param,onChange:B,className:" block p-2 xs:p-2.5 w-[300px]\r\n                  text-sm xs:text-base text-gray-400 \r\n                  font-normal bg-gray-50 rounded-lg \r\n                  border \r\n                  border-gray-300"})]}),t.jsxs("div",{className:"w-[48%] space-y-2",children:[t.jsx("p",{className:"block w-full text-xs xs:text-sm text-gray-900",children:"До"}),t.jsx(_,{required:!0,type:"number",name:"max_param",value:v.max_param,className:"block p-2 xs:p-2.5 w-full] \r\n                  text-sm xs:text-base text-gray-400 \r\n                  font-normal bg-gray-50 rounded-lg border\r\n                   border-gray-300",onChange:B})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-[12px] xs:space-y-[14px] sm:space-y-[15px] md:space-y-[16px] lg:space-y-[18px]",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"SEO информация"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"w-full text-xs xs:text-sm text-gray-900",children:"Заголовок страницы (Title)"}),t.jsx(_,{type:"text",name:"page_title",className:"block p-2 xs:p-2.5 w-full text-sm xs:text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:v.page_title,onChange:B,placeholder:"Заголовок для SEO"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"w-full text-xs xs:text-sm text-gray-900",children:"Описание страницы (Description)"}),t.jsx("textarea",{name:"page_description",rows:"3",onChange:B,className:"block p-2 xs:p-2.5 w-full text-sm xs:text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:v.page_description,placeholder:"Краткое описание для поисковых систем"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"w-full text-sm text-gray-900",children:"Текст для поисковых систем"}),t.jsx("textarea",{name:"hidden_seo_text",rows:"3",onChange:B,className:"block p-2.5 w-full text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:v.hidden_seo_text,placeholder:"Этот текст предназначен для поисковых систем и не виден пользователям. "})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"w-full text-xs xs:text-sm text-gray-900",children:"Ключевые слова (Keywords)"}),t.jsx(_,{type:"text",name:"page_keywords",className:"block p-2 xs:p-2.5 w-full text-sm xs:text-base text-gray-400 font-normal bg-gray-50 rounded-lg border border-gray-300",value:v.page_keywords,onChange:B,placeholder:"Ключевые слова через запятую"})]})]}),t.jsx("button",{type:"submit",className:"w-full p-2 xs:p-2.5 sm:p-2.5 md:p-3 bg-gray-400 text-white rounded hover:bg-[#2F2F2F] transition-colors text-base xs:text-base sm:text-lg font-medium",children:"Добавить"})]})]})});var T};export{u as default};
