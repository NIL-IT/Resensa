import{jsxs as c,jsx as e,Fragment as v}from"react/jsx-runtime";import q,{useState as h,useEffect as u,useRef as $}from"react";import{T as P,b as k,N as O,O as S,x as V,g as C,H as F}from"../entry-server.js";import{useLocation as j,useNavigate as A}from"react-router-dom";import{useDispatch as I,useSelector as B}from"react-redux";import{E}from"./EquipmentBanner-DVM7qVXF.js";import{A as H}from"./Advantages-CGtbh12n.js";import{I as R}from"./ItemsList-D77G9mk_.js";import{F as D}from"./Footer-CBsZRECn.js";import{S as L}from"./SeoBlock-C2klwm7t.js";import"react-dom/server";import"react-router-dom/server.mjs";import"react-fast-compare";import"invariant";import"shallowequal";import"clsx";import"tailwind-merge";import"@reduxjs/toolkit";import"axios";import"js-cookie";import"lucide-react";function M(){const i=I(),[a,r]=q.useState("");return c("section",{className:"overflow-hidden bg-gray-200 py-[69px] flex-center flex-col justify-center gap-10 mt-[35px] px-5",children:[e(P,{text:"вы можете проверить статус своего заказа",className:"text-xl font-normal text-gray-400 ml-3 sm:ml-0"}),c("form",{onSubmit:m=>{m.preventDefault(),i(k(!0)),i(O(a))},className:"w-[600px] flex flex-col items-center gap-5   md:flex-row md:flex-center md:justify-center ",children:[e("input",{placeholder:"Номер заказа",onChange:({target:{value:m}})=>{r(m)},value:a,type:"number",className:"bg-white py-[18px] px-6 w-[300px] sm:w-[370px] text-base font-normal",required:!0}),c("button",{type:"submit",className:"group bg-gray-400 text-white font-normal py-[15px] px-[30px] text-xs uppercase flex-center gap-5",children:[e("img",{className:"group-hover:translate-x-1 transition-all w-[30px]",src:"/icon/arrow.svg",alt:"arrow",title:"Нажмите чтобы посмотреть статус заказа"}),e("p",{children:"проверить"})]})]})]})}function W({currentProduct:i}){return c("section",{className:"container  pt-10 pb-5 lg:pt-20 lg:pb-10",children:[e(P,{text:"описание",className:"ml-5 xs:ml-0 inline-block text-lg xs:text-xl sm:text-xl md:text-2xl lg:text-2xl xl:text-2xl 2xl:text-2xl 3xl:text-2xl font-normal mb-[30px] xs:mb-[35px] sm:mb-[40px] md:mb-[45px] lg:mb-[50px] xl:mb-[50px] 2xl:mb-[50px] 3xl:mb-[50px] border-b border-b-gray-400"}),e("div",{className:"flex justify-center px-5 sm:p-0",children:e("div",{dangerouslySetInnerHTML:{__html:i.extra_description},className:"w-[1160px]"})})]})}function ue({list:i}){const a=I(),{pathname:r}=j(),g=A(),{routingToOrders:p,isAdmin:m,itemId:x,equipmentById:n,solutionsById:l}=B(({user:s})=>s),[N,_]=h(r),[f,b]=h(!0),d=!n&&!l?!0:!!n,[t,w]=h(n||l||i[0]);document.body.style.overflowY="auto",u(()=>{t||g("/")},[t]);const T=()=>{if(x)return;const s=document.querySelector("body").offsetWidth;let o;s>1600||s>1200?o=0:s>768?o=800:s>640?o=1200:s>420||s>375?o=1300:o=1200,o=document.body.scrollHeight-o,setTimeout(()=>{window.scrollTo({top:o,left:0,behavior:"smooth"})},10)};u(()=>{if(!p)return;localStorage.getItem("hasVisitedProduct")?b(!1):(localStorage.setItem("hasVisitedProduct","true"),b(!0)),(p&&!m||f&&!m&&p)&&T(),f&&a(S(!0))},[p,m,f]),u(()=>{w(n||l||i[0])},[r,n,l]),u(()=>{if(x){window.scrollTo({top:0,left:0,behavior:"smooth"}),a(V(null));return}const s=N.split("/"),o=r.split("/");(s[1]!==o[1]||s[2]!==o[2])&&(window.scrollTo({top:0,left:0,behavior:"smooth"}),a(S(!1))),w(n||l||i[0]),_(r)},[r,x]);const y=$(!1);return u(()=>{y.current||(y.current=!0,a(C()))},[]),console.log(t),i.length>0?c(v,{children:[e(L,{url:`https://new.recensa.ru/${d?`equipment/${r.split("/")[2]}`:`solutions/${r.split("/")[2]}`}`,title:t.page_title,description:t.hidden_seo_text}),c(F,{children:[e("title",{children:t.page_title}),e("meta",{name:"description",content:t.page_description}),e("meta",{name:"keywords",content:t.page_keywords}),e("meta",{property:"og:title",content:t.page_title}),e("meta",{property:"og:url",content:`https://new.recensa.ru/${d?`equipment/${r.split("/")[2]}`:`solutions/${r.split("/")[2]}`}`}),e("link",{rel:"canonical",href:`https://new.recensa.ru/${d?`equipment/${r.split("/")[2]}`:`solutions/${r.split("/")[2]}`}`})]}),c("main",{children:[e(E,{list:i,currentProduct:!0,bannerImg:t.image_banner,cardImg:t.image_card,title:t.sub_header,subtitle:t.name,text:t.header,isButton:!0,width:"w-[300px] xs:w-[360px] md:w-[500px] lg:w-[656px]"}),e(H,{}),e(W,{currentProduct:t}),e(R,{equipment:d,title:"каталог",list:i,limited:!1}),e(M,{})]}),e(D,{})]}):e(v,{})}export{ue as default};
