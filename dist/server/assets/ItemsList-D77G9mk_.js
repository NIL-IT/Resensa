var S=(h,t,o)=>new Promise((g,i)=>{var c=s=>{try{p(o.next(s))}catch(l){i(l)}},f=s=>{try{p(o.throw(s))}catch(l){i(l)}},p=s=>s.done?g(s.value):Promise.resolve(s.value).then(c,f);p((o=o.apply(h,t)).next())});import{jsxs as d,jsx as e}from"react/jsx-runtime";import{useState as y,useEffect as F}from"react";import{T as Y,B as T,t as u,P as A,Q as q,U as H,V as M,a as L,c as R}from"../entry-server.js";import{useDispatch as Q}from"react-redux";import{useLocation as z,Link as G}from"react-router-dom";function te({limited:h=!0,list:t,href:o,title:g,equipment:i}){const[c,f]=y(h),[p,s]=y([]),[l,I]=y([]),[j,P]=y(!1),m=Q(),{pathname:C}=z(),_=C.split("/")[2]==="orders";let v;F(()=>{t&&(c&&t.length>6?(s(t.slice(0,6)),I(t.slice(6))):(s(t),I([])),!_&&t.length>0&&(v=t[0].hasOwnProperty("max_param")))},[t,h,c]);const $=(a,n)=>{m(R(a)),m(L(n))},B=a=>S(this,null,function*(){i?(yield m(A(a)),m(q(null))):(yield m(H(a)),m(M(null))),m(L(a))}),O=()=>{P(!0);let a=0;const n=100;l.forEach((x,r)=>{setTimeout(()=>{s(b=>[...b,x]),r===l.length-1&&setTimeout(()=>{P(!1),f(!1)},300)},a),a+=n})},w=new Date;w.setFullYear(w.getFullYear()+1);const U=w.toISOString().split("T")[0],V=(a,n)=>{const{id:x,name:r,description:b,image_card:D,image_card_alt:N}=a,k=n>=6&&j;return d(G,{itemScope:!0,itemType:"http://schema.org/Product",to:i?`/equipment/${u(r)}`:`/solutions/${u(r)}`,onClick:()=>B(x),className:`max-h-[440px] w-[280px] xs:w-[300px] sm:w-[320px] md:w-[330px] 
        lg:w-[340px] xl:w-[345px] 2xl:w-[348px] 3xl:w-[352px] border border-gray-100 p-3 xs:p-3.5 sm:p-4
        transition-all duration-500 ease-in-out ${k?"opacity-0 transform translate-y-8 animate-fadeIn":"opacity-100"}`,style:{animationDelay:k?`${(n-6)*100}ms`:"0ms",animationFillMode:"forwards"},children:[e("img",{itemProp:"image",className:"object-cover h-[260px] w-[260px] xs:h-[275px] xs:w-[275px] sm:h-[290px] sm:w-[290px] md:h-[300px] md:w-[300px] lg:h-[310px] lg:w-[310px] xl:h-[315px] xl:w-[315px] 2xl:h-[318px] 2xl:w-[318px] 3xl:h-[320px] 3xl:w-[320px]",src:D||"/img/placeholder.svg",alt:N,title:N}),e("h3",{itemProp:"name",className:"text-gray-400 text-xs xs:text-xs sm:text-sm uppercase font-normal my-1.5 xs:my-1.5 sm:my-2",children:r}),e("meta",{itemProp:"brand",content:"Recensa"}),e("meta",{itemProp:"sku",content:x}),d("div",{className:"invisible w-0 h-0",itemProp:"offers",itemScope:!0,itemType:"http://schema.org/Offer",children:[e("meta",{itemProp:"price",content:"5000"}),e("meta",{itemProp:"priceCurrency",content:"RUB"}),e("meta",{itemProp:"availability",content:"https://schema.org/InStock"}),e("meta",{itemProp:"priceValidUntil",content:U}),e("link",{itemProp:"url",href:i?`/equipment/${u(r)}`:`/solutions/${u(r)}`})]}),d("div",{className:"flex-center justify-between gap-2",children:[e("div",{itemProp:"description",dangerouslySetInnerHTML:{__html:b},className:"w-[50%] text-[11px] max-h-[60px] overflow-hidden xs:text-[12px] sm:text-[13px] text-gray-300"}),e(T,{noLink:!0,onClick:E=>{E.preventDefault(),$(!0,x)},text:"Оставить заявку",className:"w-[50%] py-[16px] px-[12px] hover:bg-gray-450"})]})]},x)};return p.length>0?d("section",{className:"container py-12 xs:py-14 sm:py-16 md:py-18 lg:py-20 xl:py-20 2xl:py-20 3xl:py-20",children:[d("div",{itemScope:!0,itemType:"https://schema.org/ItemList",children:[e(Y,{itemProp:"name",text:g||(v?"Оборудование":"решения"),className:"ml-5 xs:ml-0 inline-block text-lg xs:text-xl sm:text-xl md:text-2xl lg:text-2xl xl:text-2xl 2xl:text-2xl 3xl:text-2xl font-normal mb-[30px] xs:mb-[35px] sm:mb-[40px] md:mb-[45px] lg:mb-[50px] xl:mb-[50px] 2xl:mb-[50px] 3xl:mb-[50px] border-b border-b-gray-400"}),e("meta",{itemProp:"numberOfItems",content:t?t.length:0}),e("div",{className:"flex justify-center w-full transition-all",children:e("article",{className:"grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-8",children:p.map((a,n)=>V(a,n))})})]}),c&&l.length>0&&e("div",{className:"flex justify-center",children:e(T,{onClick:()=>O(),text:"смотреть все",className:"bg-white w-[90%] xs:w-full sm:w-full md:w-[800px] lg:w-[900px] xl:w-[1000px] 2xl:w-[1100px] 3xl:w-[1158px] py-[18px] xs:py-[20px] sm:py-[22px] md:py-[24px] lg:py-[26px] xl:py-[26px] 2xl:py-[26px] 3xl:py-[26px] text-gray-400 border border-gray-400 mt-[40px] xs:mt-[45px] sm:mt-[50px] md:mt-[55px] lg:mt-[60px] xl:mt-[62px] 2xl:mt-[63px] 3xl:mt-[64px] hover:bg-gray-50 hover:border-gray-200"})}),e("style",{jsx:"true",children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-fadeIn {
          animation-name: fadeIn;
          animation-duration: 500ms;
          animation-timing-function: ease-out;
        }
      `})]}):e("p",{children:"Загрузка..."})}export{te as I};
