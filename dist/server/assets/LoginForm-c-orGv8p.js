import{u as f,E as x,a as N,F as a,z as u,j as e,L as g,a4 as c}from"./index-Bskm-Bt1.js";import h,{useEffect as b}from"react";import"react-dom";function D(){const o=f(),n=x(),{error:m}=N(s=>s.user),[r,i]=h.useState({username:"",password:""});b(()=>{o(a(!1)),u.get("access_token")&&(o(a(!0)),n("/admin/1"))},[o,n]);const l=s=>{i({...r,[s.target.name]:s.target.value})},d=async s=>{s.preventDefault();try{const t=await o(c(r));if(c.fulfilled.match(t)){const p=t.payload;u.set("access_token",p,{expires:1}),o(a(!0)),n("/admin/1")}}catch(t){console.error("Login failed:",t)}i({username:"",password:""})};return e.jsxDEV("article",{className:"w-screen h-screen",children:e.jsxDEV("div",{className:"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8",children:[e.jsxDEV("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsxDEV(g,{to:"/",children:e.jsxDEV("img",{className:"mx-auto h-10 w-auto",src:"/icon/logo.svg",alt:"Recensa",title:"Recensa"},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:56,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:55,columnNumber:11},this),e.jsxDEV("h2",{className:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-gray-900",children:"Войти в аккаунт"},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:63,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:54,columnNumber:9},this),e.jsxDEV("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:e.jsxDEV("form",{onSubmit:d,className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"username",className:"block text-sm/6 font-medium text-gray-900",children:"Имя пользователя"},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:71,columnNumber:15},this),e.jsxDEV("div",{className:"mt-2",children:e.jsxDEV("input",{type:"text",name:"username",id:"username",value:r.username,onChange:l,required:!0,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:78,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:77,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:70,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:e.jsxDEV("label",{htmlFor:"password",className:"block text-sm/6 font-medium text-gray-900",children:"Пароль"},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:92,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:91,columnNumber:15},this),e.jsxDEV("div",{className:"mt-2",children:e.jsxDEV("input",{type:"password",name:"password",id:"password",value:r.password,onChange:l,required:!0,className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-gray-400 sm:text-sm/6"},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:100,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:99,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:90,columnNumber:13},this),m&&e.jsxDEV("div",{className:"text-red-500 text-sm text-center",children:m},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:113,columnNumber:15},this),e.jsxDEV("div",{children:e.jsxDEV("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-gray-400 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-sm hover:bg-gray-300 transition-colors",children:"Войти"},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:117,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:116,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:69,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:68,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:53,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/user/Desktop/Code/Work/resensa/src/components/pages/LoginForm.jsx",lineNumber:52,columnNumber:5},this)}export{D as default};
