import{u as t,h as p,a as x,j as e,B as l,c as s}from"./index-CGnzMqix.js";import{useState as m,useRef as n,useEffect as i,useLayoutEffect as a}from"react";function r({subtitle:r,title:o,text:c,bannerImg:d,isButton:h=!1,textSize:g,width:b="",about:u=!1,currentProduct:j,list:f,placeholderSrc:w,cardImg:y}){const N=t(),{pathname:P}=p(),{equipmentById:_,solutionsById:v}=x((({user:t})=>t)),[$,I]=m(!!j),[S,B]=m(null),[T,q]=m(""),L=n(null),[k,z]=m(3===P.split("/").length);let C;i((()=>{if(!f)return;const t=f.filter((t=>t.id===_?.id||v?.id));B(t[0]),I(!1)}),[_,v]),a((()=>{L.current&&(C=L.current.offsetHeight,q(C<=55?"pb-[50px] xs:pb-[40px] sm:pb-[20px] \n           md:pb-[80px] lg:pb-[130px]  \n          xl:pb-[190px] 2xl:pb-[240px] 3xl:pb-[286px]":"pb-[15px] xs:pb-[0px] sm:pb-[20px] \n           md:pb-[65px] lg:pb-[95px]  \n          xl:pb-[110px] 2xl:pb-[180px] 3xl:pb-[230px]"))}),[S]);const[E,H]=m(S?"/img/product_placeholder.png":w);i((()=>{const t=new Image;S?(t.src=S.image_banner,t.onload=()=>{H(S.image_banner)}):(t.src=d,t.onload=()=>{H(d)})}),[d]);const F="equipment"===P.split("/")[1],M=()=>{const t=P.split("/").pop();return"equipment"===t?"Главная—Оборудование":"solutions"===t?"Главная—Решения":"about"===t?"Главная—О компании":F?`Главная—Оборудование—${r}`:`Главная—Решения—${r}`};return $&&!C?e.jsx("div",{className:" bg-white w-full h-[300px] sm:h-[400px] md:h-[500px] lg:h-[600px] \r\n              xl:h-[700px] 2xl:h-[800px] 3xl:h-[900px] flex-center justify-center mt-20",children:e.jsx("div",{className:"loader"})}):e.jsxs("section",{className:`relative ${u||k?k?T:"":"pb-[50px] xs:pb-[30px] sm:pb-[auto] \n      md:pb-[105px] lg:pb-[160px]  \n     xl:pb-[205px] 2xl:pb-[240px] 3xl:pb-[286px]"}`,children:[e.jsx("nav",{className:"container relative",children:e.jsx("ul",{itemScope:!0,itemType:"http://schema.org/BreadcrumbList",className:"absolute flex gap-2 top-[40px] xl:top-[60px]  text-gray-50 px-5 xs:px-0",children:M().split("—").map(((t,p)=>e.jsxs("li",{itemProp:"itemListElement",itemScope:!0,itemType:"http://schema.org/ListItem",className:"flex gap-2   text-sm ",children:[p===M().split("—").length-1?e.jsxs(e.Fragment,{children:[e.jsx("span",{itemProp:"name",children:t}),e.jsx("meta",{itemProp:"position",content:p})]}):e.jsxs("a",{title:0==p?"Основной раздел":1==p?"Подраздел уровня 1":"Подраздел уровня 2",itemProp:"item",className:"pointer",href:"Главная"===t?"/":"Решения"===t?"/solutions":"Оборудование"===t?"/equipment":"О компании"===t?"/about":"",children:[e.jsxs("span",{itemProp:"name",children:[" ",t]}),e.jsx("meta",{itemProp:"position",content:p})]}),p+1<M().split("—").length&&e.jsx("span",{children:">"})]},p)))})}),e.jsxs("div",{...k?{itemScope:!0,itemType:"http://schema.org/Product"}:{},children:[e.jsxs("h4",{className:"hidden",itemProp:"name",children:[" ",r||S.name]}),k&&e.jsx("img",{className:"hidden",src:y||"",alt:S?S.image_card_alt:"Карточка товара",itemProp:"image",title:S?S.image_card_alt:"Карточка товара"}),e.jsx("img",{className:`absolute  brightness-50 object-cover object-center top-[30px] \n          left-0 w-full    \n          z-[-2] ${E===w?"loading":"loaded"} ${k?"object-contain h-[400px] md:h-[500px] lg:h-[600px] \n              xl:h-[700px] 2xl:h-[800px] 3xl:h-[900px]":"\n              min-w-[100%] max-w-[1920px] \n              h-[400px] sm:h-[500px] md:h-[500px] lg:h-[600px] \n              xl:h-[700px] 2xl:h-[800px] 3xl:h-[900px]\n              max-h-[900px]"}`,src:E,alt:S?S?.image_banner_alt:F?"Баннер оборудования":"Баннер решений",title:S?S?.image_banner_alt:F?"Баннер оборудования":"Баннер решений"}),e.jsxs("div",{...k?{itemProp:"offers",itemScope:!0,itemType:"http://schema.org/Offer"}:{},children:[k&&e.jsxs("div",{className:"invisible w-0 h-0",children:[e.jsx("meta",{itemProp:"price",content:"5000"}),e.jsx("meta",{itemProp:"priceCurrency",content:"RUB"}),e.jsx("meta",{itemProp:"availability",content:"https://schema.org/InStock"})]}),e.jsxs("div",{className:`container pl-[20px] xs:pl-[0] ${k&&"min-h-[400px]"} ${u?"pt-[80px] xs:pt-[100px] sm:pt-[120px] md:pt-[150px] lg:pt-[200px] xl:pt-[250px] 2xl:pt-[300px] 3xl:pt-[300px] 3xl:pb-[94px]":" "+(C<=76?"pt-[120px] \n          md:pt-[140px] lg:pt-[160px] xl:pt-[180px] 2xl:pt-[200px] 3xl:pt-[250px]":"pt-[100px] xs:pt-[100px] \n          md:pt-[130px] lg:pt-[160px] xl:pt-[180px] 2xl:pt-[200px] 3xl:pt-[250px] ")}`,children:[e.jsx("h2",{itemProp:"name",className:"font-normal text-sm sm:text-lg leading-[22px] sm:leading-[24px] xl:text-[28px] 2xl:text-[32px] text-white md:leading-[41px] pt-[10px] md:pt-[0px]",children:r||S.name}),e.jsx("h3",{ref:L,className:"font-normal  text-lg leading-[28px] sm:text-xl  md:text-[28px]  mt-3 md:mt-0 sm:leading-[32px]  md:leading-[36px]  \r\n          xl:text-[38px] 2xl:text-[48px] xl:leading-[51px] 2xl:leading-[61px] text-white uppercase",children:o||S.sub_header}),e.jsx("div",{dangerouslySetInnerHTML:{__html:c},itemProp:"description",className:` text-white mt-3 mb-8 xs:mb-[40px] xs:mt-[20px] sm:mb-[30px] sm:mt-[30px]  md:mb-[40px] md:mt-[40px] \n            lg:mb-[33px] lg:mt-[20px] xl:mt-[30px] 2xl:mt-[65px] \n            ${u?"text-sm xl:text-lg":""} ${b||"w-[300px] xs:w-[360px] md:w-[500px] lg:w-[656px]"}  ${g||" text-xs sm:text-sm lg:text-lg xl:text-xl"}`}),h&&e.jsx(l,{onClick:()=>N(s(!0)),icon:!0,iconWidth:"w-[24px] sm:w-[30px] md:w-[38px]",white:!0,text:"Оформить заказ",className:"py-[5px] px-[10px]  sm:py-[10px]  lg:py-[14px]\r\n              xs:pl-[10px] xl:py-[19px] md:px-6 bg-white\r\n              text-gray-400 text-xs sm:text-base"})]})]})]})]})}export{r as E};
