var F=Object.defineProperty,H=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var C=(x,s,l)=>s in x?F(x,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):x[s]=l,f=(x,s)=>{for(var l in s||(s={}))W.call(s,l)&&C(x,l,s[l]);if(E)for(var l of E(s))z.call(s,l)&&C(x,l,s[l]);return x},j=(x,s)=>H(x,O(s));import{r as i,j as e}from"./three-vendor-D76XtHXd.js";import{u as A,h as G,a as I,B as J,c as K}from"./index-CDtEXoaX.js";function Y({subtitle:x,title:s,text:l,bannerImg:o,isButton:L=!1,textSize:P,width:w="",about:h=!1,currentProduct:R,list:N,placeholderSrc:v,cardImg:y}){const q=A(),{pathname:d}=G(),{equipmentById:n,solutionsById:r}=I(({user:p})=>p),[B,T]=i.useState(!!R),k=p=>q(K(p)),[t,D]=i.useState(null),[U,S]=i.useState(""),g=i.useRef(null),[m,M]=i.useState(d.split("/").length===3);i.useEffect(()=>{if(!N)return;const p=N.filter(a=>a.id===(n==null?void 0:n.id)||(r==null?void 0:r.id));D(p[0]),T(!1)},[n,r]);let c;i.useLayoutEffect(()=>{g.current&&(c=g.current.offsetHeight,c<=55?S(`pb-[50px] xs:pb-[40px] sm:pb-[20px] 
           md:pb-[80px] lg:pb-[130px]  
          xl:pb-[190px] 2xl:pb-[240px] 3xl:pb-[286px]`):S(`pb-[15px] xs:pb-[0px] sm:pb-[20px] 
           md:pb-[65px] lg:pb-[95px]  
          xl:pb-[110px] 2xl:pb-[180px] 3xl:pb-[230px]`))},[t]);const[_,$]=i.useState(t?"/img/product_placeholder.png":v);i.useEffect(()=>{const p=new Image;t?(p.src=t.image_banner,p.onload=()=>{$(t.image_banner)}):(p.src=o,p.onload=()=>{$(o)})},[o]);const u=d.split("/")[1]==="equipment",b=()=>{const p=d.split("/").pop();return p==="equipment"?"Главная—Оборудование":p==="solutions"?"Главная—Решения":p==="about"?"Главная—О компании":u?`Главная—Оборудование—${x}`:`Главная—Решения—${x}`};return B&&!c?e.jsx("div",{className:` bg-white w-full h-[300px] sm:h-[400px] md:h-[500px] lg:h-[600px] \r
              xl:h-[700px] 2xl:h-[800px] 3xl:h-[900px] flex-center justify-center mt-20`,children:e.jsx("div",{className:"loader"})}):e.jsxs("section",{className:`relative ${!h&&!m?`pb-[50px] xs:pb-[30px] sm:pb-[auto] 
      md:pb-[105px] lg:pb-[160px]  
     xl:pb-[205px] 2xl:pb-[240px] 3xl:pb-[286px]`:m?U:""}`,children:[e.jsx("nav",{className:"container relative",children:e.jsx("ul",{itemScope:!0,itemType:"http://schema.org/BreadcrumbList",className:"absolute flex gap-2 top-[40px] xl:top-[60px]  text-gray-50",children:b().split("—").map((p,a)=>e.jsxs("li",{itemProp:"itemListElement",itemScope:!0,itemType:"http://schema.org/ListItem",className:"flex gap-2   text-xs xl:text-sm",children:[a===b().split("—").length-1?e.jsxs(e.Fragment,{children:[e.jsx("span",{itemProp:"name",children:p}),e.jsx("meta",{itemProp:"position",content:a})]}):e.jsxs("a",{title:a==0?"Основной раздел":a==1?"Подраздел уровня 1":"Подраздел уровня 2",itemProp:"item",className:"pointer",href:p==="Главная"?"/":p==="Решения"?"/solutions":p==="Оборудование"?"/equipment":p==="О компании"?"/about":"",children:[e.jsxs("span",{itemProp:"name",children:[" ",p]}),e.jsx("meta",{itemProp:"position",content:a})]}),a+1<b().split("—").length&&e.jsx("span",{children:">"})]},a))})}),e.jsxs("div",j(f({},m?{itemScope:!0,itemType:"http://schema.org/Product"}:{}),{children:[e.jsxs("h4",{className:"hidden",itemprop:"name",children:[" ",x||t.name]}),m&&e.jsx("img",{className:"hidden",src:y||"",alt:t?t.image_card_alt:"Карточка товара",itemProp:"image",title:t?t.image_card_alt:"Карточка товара"}),e.jsx("img",{className:`absolute  brightness-50 object-cover object-center top-[30px] 
          left-0 w-full    
          z-[-2] ${_===v?"loading":"loaded"} ${m?`object-contain h-[400px] md:h-[500px] lg:h-[600px] 
              xl:h-[700px] 2xl:h-[800px] 3xl:h-[900px]`:`
              min-w-[100%] max-w-[1920px] 
              h-[400px] sm:h-[500px] md:h-[500px] lg:h-[600px] 
              xl:h-[700px] 2xl:h-[800px] 3xl:h-[900px]
              max-h-[900px]`}`,src:_,alt:t?t==null?void 0:t.image_banner_alt:u?"Баннер оборудования":"Баннер решений",title:t?t==null?void 0:t.image_banner_alt:u?"Баннер оборудования":"Баннер решений"}),e.jsxs("div",j(f({},m?{itemProp:"offers",itemScope:!0,itemType:"http://schema.org/Offer"}:{}),{children:[m&&e.jsxs("div",{className:"invisible w-0 h-0",children:[e.jsx("meta",{itemProp:"price",content:"5000"}),e.jsx("meta",{itemProp:"priceCurrency",content:"RUB"}),e.jsx("meta",{itemProp:"availability",content:"https://schema.org/InStock"}),e.jsx("div",{itemProp:"price",children:"5000"}),e.jsx("div",{itemProp:"priceCurrency",children:"RUB"})]}),e.jsxs("div",{className:`container pl-[20px] xs:pl-[0] ${m&&"min-h-[400px]"} ${h?"pt-[80px] xs:pt-[100px] sm:pt-[120px] md:pt-[150px] lg:pt-[200px] xl:pt-[250px] 2xl:pt-[300px] 3xl:pt-[300px] 3xl:pb-[94px]":` ${c<=76?`pt-[120px] 
          md:pt-[140px] lg:pt-[160px] xl:pt-[180px] 2xl:pt-[200px] 3xl:pt-[250px]`:`pt-[100px] xs:pt-[100px] 
          md:pt-[130px] lg:pt-[160px] xl:pt-[180px] 2xl:pt-[200px] 3xl:pt-[250px] `}`}`,children:[e.jsx("h1",{itemProp:"name",className:"font-normal text-sm sm:text-lg leading-[22px] sm:leading-[24px] xl:text-[28px] 2xl:text-[32px] text-white md:leading-[41px] pt-[10px] md:pt-[0px]",children:x||t.name}),e.jsx("h2",{ref:g,className:`font-normal  text-lg leading-[28px] sm:text-xl  md:text-[28px]  mt-3 md:mt-0 sm:leading-[32px]  md:leading-[36px]  \r
          xl:text-[38px] 2xl:text-[48px] xl:leading-[51px] 2xl:leading-[61px] text-white uppercase`,children:s||t.sub_header}),e.jsx("p",{itemProp:"description",className:` text-white mt-3 mb-8 xs:mb-[40px] xs:mt-[20px] sm:mb-[30px] sm:mt-[30px]  md:mb-[40px] md:mt-[40px] 
            lg:mb-[33px] lg:mt-[20px] xl:mt-[30px] 2xl:mt-[65px] 
            ${h?"text-sm xl:text-lg":""} ${w||"w-[300px] xs:w-[360px] md:w-[500px] lg:w-[656px]"}  ${P||" text-xs sm:text-sm lg:text-lg xl:text-xl"}`,children:l||t.header}),L&&e.jsx(J,{onClick:()=>k(!0),icon:!0,iconWidth:"w-[24px] sm:w-[30px] md:w-[38px]",white:!0,text:"Оформить заказ",className:`py-[5px] px-[10px]  sm:py-[10px]  lg:py-[14px]\r
              xs:pl-[10px] xl:py-[19px] md:px-6 bg-white\r
              text-gray-400 text-xs sm:text-base`})]})]}))]}))]})}export{Y as E};
