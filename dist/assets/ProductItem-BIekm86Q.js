import{R as S,j as e,r as i}from"./three-vendor-D76XtHXd.js";import{u as y,T as I,d as E,Q as T,h as q,D as N,a as F,U as j,E as V,g as _,H as O}from"./index-5xNbedbg.js";import{E as R}from"./EquipmentBanner-D5Xyfp_G.js";import{A as $}from"./Advantages-DxSg7-o1.js";import{I as A}from"./ItemsList-B2FQw8Me.js";import{F as k}from"./Footer-CwJ4kQVG.js";import"./react-vendor-C6O4aKhz.js";function B(){const o=y(),[c,r]=S.useState(""),p=({target:{value:u}})=>{r(u)},m=u=>{u.preventDefault(),o(E(!0)),o(T(c))};return e.jsxs("section",{className:"overflow-hidden bg-gray-200 py-[69px] flex-center flex-col justify-center gap-10 mt-[35px] px-5",children:[e.jsx(I,{text:"вы можете проверить статус своего заказа",className:"text-xl font-normal text-gray-400 ml-3 sm:ml-0"}),e.jsxs("form",{onSubmit:m,className:"w-[600px] flex flex-col items-center gap-5   md:flex-row md:flex-center md:justify-center ",children:[e.jsx("input",{placeholder:"Номер заказа",onChange:p,value:c,type:"number",className:"bg-white py-[18px] px-6 w-[300px] sm:w-[370px] text-base font-normal",required:!0}),e.jsxs("button",{type:"submit",className:"group bg-gray-400 text-white font-normal py-[15px] px-[30px] text-xs uppercase flex-center gap-5",children:[e.jsx("img",{className:"group-hover:translate-x-1 transition-all w-[30px]",src:"/icon/arrow.svg",alt:"arrow",title:"Нажмите чтобы посмотреть статус заказа"}),e.jsx("p",{children:"проверить"})]})]})]})}function Y({list:o}){const c=y(),{pathname:r}=q(),p=N(),{routingToOrders:m,isAdmin:u,itemId:d,equipmentById:n,solutionsById:l}=F(({user:s})=>s),[b,v]=i.useState(r),[f,h]=i.useState(!0),x=!n&&!l?!0:!!n,[a,g]=i.useState(n||l||o[0]);document.body.style.overflowY="auto",i.useEffect(()=>{a||p("/")},[a]);const P=()=>{if(d)return;const s=document.querySelector("body").offsetWidth;let t;s>1600||s>1200?t=0:s>768?t=800:s>640?t=1200:s>420||s>375?t=1300:t=1200,t=document.body.scrollHeight-t,setTimeout(()=>{window.scrollTo({top:t,left:0,behavior:"smooth"})},10)};i.useEffect(()=>{if(!m)return;localStorage.getItem("hasVisitedProduct")?h(!1):(localStorage.setItem("hasVisitedProduct","true"),h(!0)),(m&&!u||f&&!u&&m)&&P(),f&&c(j(!0))},[m,u,f]),i.useEffect(()=>{g(n||l||o[0])},[r,n,l]),i.useEffect(()=>{if(d){window.scrollTo({top:0,left:0,behavior:"smooth"}),c(V(null));return}const s=b.split("/"),t=r.split("/");(s[1]!==t[1]||s[2]!==t[2])&&(window.scrollTo({top:0,left:0,behavior:"smooth"}),c(j(!1))),g(n||l||o[0]),v(r)},[r,d]);const w=i.useRef(!1);return i.useEffect(()=>{w.current||(w.current=!0,c(_()))},[]),o.length>0?e.jsxs(e.Fragment,{children:[e.jsxs(O,{children:[e.jsx("title",{children:a.page_title}),e.jsx("meta",{name:"description",content:a.page_description}),e.jsx("meta",{name:"keywords",content:a.page_keywords}),e.jsx("meta",{property:"og:title",content:a.page_title}),e.jsx("meta",{property:"og:url",content:`https://new.recensa.ru/${x?`equipment/${r.split("/")[2]}`:`solutions/${r.split("/")[2]}`}`}),e.jsx("link",{rel:"canonical",href:`https://new.recensa.ru/${x?`equipment/${r.split("/")[2]}`:`solutions/${r.split("/")[2]}`}`})]}),e.jsxs("main",{children:[e.jsx(R,{list:o,currentProduct:!0,bannerImg:a.image_banner,cardImg:a.image_card,title:a.sub_header,subtitle:a.name,text:a.header,isButton:!0,width:"w-[300px] xs:w-[360px] md:w-[500px] lg:w-[656px]"}),e.jsx($,{}),e.jsx(A,{equipment:x,title:"каталог",list:o,limited:!1}),e.jsx(B,{})]}),e.jsx(k,{})]}):e.jsx(e.Fragment,{})}export{Y as default};
